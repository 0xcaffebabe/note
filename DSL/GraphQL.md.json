{"name":"GraphQL","id":"DSL-GraphQL","content":"# GraphQLï¼šå®¢æˆ·ç«¯é©±åŠ¨çš„ API è®¾è®¡èŒƒå¼\n\n## ä¸€ã€æ ¸å¿ƒå®šä¹‰ä¸æœ¬è´¨è®¤çŸ¥\n\n**GraphQL çš„æœ¬è´¨ï¼š**\n\n> ä¸€ç§ä»¥â€œæ•°æ®éœ€æ±‚æ˜¾å¼å»ºæ¨¡â€ä¸ºæ ¸å¿ƒæ€æƒ³çš„æŸ¥è¯¢è¯­è¨€ï¼Œé€šè¿‡å›¾ç»“æ„åŒ–çš„æ–¹å¼å®ç°å®¢æˆ·ç«¯æ•°æ®è¯·æ±‚çš„ç²¾ç¡®æ§åˆ¶ã€‚\n\n**æ¶æ„åŸç†æ¦‚è¿°ï¼š**\n\n* **æœ¬è´¨ï¼š** ä»¥æŸ¥è¯¢è¯­è¨€å®ç°æ•°æ®è·å–ä¸ä¸šåŠ¡é€»è¾‘çš„è§£è€¦\n* **æ ¸å¿ƒä»·å€¼ï¼š** æä¾›ç»Ÿä¸€ã€èšåˆåŒ–çš„æœåŠ¡ç«¯æ¥å£ï¼Œæ”¯æŒå®¢æˆ·ç«¯æŒ‰éœ€å–æ•°\n* **ä¸»è¦æŒ‘æˆ˜ï¼š** æŸ¥è¯¢å¤æ‚åº¦æ§åˆ¶ä¸å›¾éå†æ€§èƒ½çš„æƒè¡¡\n\n**ç¨³å®šçŸ¥è¯†æå–ï¼š**\n\n* **Schema â†’ æ•°æ®å¥‘çº¦ï¼š** å®šä¹‰æœåŠ¡èƒ½åŠ›è¾¹ç•Œï¼Œæ”¯æ’‘æ¥å£çš„é•¿æœŸæ¼”è¿›ç¨³å®šæ€§\n* **Query / Mutation â†’ èŒè´£åˆ†ç¦»ï¼š** æ˜ç¡®æŸ¥è¯¢ä¸ä¿®æ”¹çš„è¯­ä¹‰ï¼Œæå‡ API å¯ç†è§£æ€§\n* **Resolver â†’ ä¸šåŠ¡é€»è¾‘æŠ½è±¡ï¼š** å®ç°åˆ†å¸ƒå¼æœåŠ¡çš„æ•°æ®èšåˆå±‚\n\n---\n\n## äºŒã€è®¾è®¡å“²å­¦ï¼šå®¢æˆ·ç«¯é©±åŠ¨çš„æ•°æ®å¥‘çº¦\n\nGraphQL ä»£è¡¨äº† **ä»æœåŠ¡ç«¯ä¸­å¿ƒåŒ–å‘å®¢æˆ·ç«¯é©±åŠ¨çš„ API è®¾è®¡æ¼”è¿›**ã€‚\nå…¶æ ¸å¿ƒå“²å­¦å¯å½’çº³ä¸ºä¸‰ç‚¹ï¼š\n\n1. **æ•°æ®å¥‘çº¦çš„åŒå‘çº¦å®š**\n   Schema å®šä¹‰äº†æœåŠ¡ç«¯çš„èƒ½åŠ›è¾¹ç•Œä¸å®¢æˆ·ç«¯çš„éœ€æ±‚äº¤é›†ï¼Œå®ç°æ˜¾å¼åä½œã€‚\n\n2. **æŸ¥è¯¢çš„æ„å›¾è¡¨è¾¾**\n   å®¢æˆ·ç«¯é€šè¿‡æŸ¥è¯¢ç»“æ„ç›´æ¥æè¿°æ•°æ®ä¾èµ–å…³ç³»ï¼Œä½¿æ•°æ®è¯·æ±‚é€æ˜åŒ–ã€è¯­ä¹‰åŒ–ã€‚\n\n3. **æ¥å£æ¼”è¿›çš„å‘åå…¼å®¹**\n   é€šè¿‡å¯é€‰å­—æ®µä¸ç‰ˆæœ¬æ— å…³çš„ Schemaï¼Œé¿å…å¤šç‰ˆæœ¬æ¥å£ç»´æŠ¤æˆæœ¬ã€‚\n\nğŸ“ˆ **è®¾è®¡å¸¦æ¥çš„æ”¹è¿›ï¼š**\n\n* æ¶ˆé™¤äº†ä¼ ç»Ÿ REST çš„ **N+1 æŸ¥è¯¢** ä¸ **è¿‡åº¦/ä¸è¶³è·å–** é—®é¢˜\n* ä½¿å‰åç«¯å¼€å‘è§£è€¦ï¼Œæå‡äº¤ä»˜ç‹¬ç«‹æ€§ä¸æ¼”è¿›å¼¹æ€§\n\n---\n\n## ä¸‰ã€æ¶æ„æ¨¡å¼å¯¹æ¯”ï¼šREST vs GraphQL\n\n| å¯¹æ¯”ç»´åº¦       | REST æ¶æ„                 | GraphQL æ¶æ„           |\n| ---------- | ----------------------- | -------------------- |\n| **æ ¸å¿ƒå¯¼å‘**   | èµ„æºå¯¼å‘ï¼ˆResource-Orientedï¼‰ | æŸ¥è¯¢å¯¼å‘ï¼ˆQuery-Orientedï¼‰ |\n| **æ•°æ®æ§åˆ¶æƒ**  | æœåŠ¡ç«¯å®šä¹‰æ•°æ®ç»“æ„               | å®¢æˆ·ç«¯å†³å®šæ•°æ®ç»“æ„            |\n| **æ•°æ®èšåˆæ–¹å¼** | å®¢æˆ·ç«¯æ‹¼è£…                   | æœåŠ¡ç«¯ç»Ÿä¸€èšåˆ              |\n| **æ¥å£æ¼”è¿›æ–¹å¼** | å¤šç‰ˆæœ¬å¹¶è¡Œç»´æŠ¤                 | å• Schema æŒç»­æ¼”è¿›        |\n| **èµ„æºå®šä½æœºåˆ¶** | URL è·¯å¾„å®šä½èµ„æº              | Schema ç±»å‹ç³»ç»Ÿæè¿°å…³ç³»      |\n| **å…¸å‹åº”ç”¨åœºæ™¯** | ç®€å• CRUDã€å›ºå®šç»“æ„æ¥å£          | å¤æ‚å…³è”æ•°æ®ã€åŠ¨æ€éœ€æ±‚æ¥å£        |\n\n**æ¶æ„æƒè¡¡æ€»ç»“ï¼š**\n\n* REST â†’ é¢å‘èµ„æºï¼Œç¨³å®šä¸”ç®€å•ï¼Œé€‚åˆå›ºå®šåœºæ™¯\n* GraphQL â†’ é¢å‘å›¾å…³ç³»ï¼Œçµæ´»ä¸”è¡¨è¾¾åŠ›å¼ºï¼Œé€‚åˆå¤šç»´æ•°æ®èšåˆä¸å‰ç«¯å¤šæ ·åŒ–åœºæ™¯\n\n---\n\n## å››ã€æ€§èƒ½ä¸å®‰å…¨æ€§æƒè¡¡æœºåˆ¶\n\nGraphQL çš„çµæ´»æ€§ä¼´éšä¸€å®šçš„è®¡ç®—ä¸å®‰å…¨å¼€é”€ï¼Œéœ€è¦åœ¨ç³»ç»Ÿå±‚é¢å¹³è¡¡ã€‚\n\n**1. æŸ¥è¯¢å¤æ‚åº¦æ§åˆ¶ï¼š**\n\n* é€šè¿‡ **æŸ¥è¯¢æ·±åº¦é™åˆ¶ï¼ˆQuery Depth Limitï¼‰** ä¸ **æŸ¥è¯¢æˆæœ¬åˆ†æï¼ˆQuery Cost Analysisï¼‰** æ§åˆ¶è¿‡æ·±æˆ–è¿‡å¹¿çš„è¯·æ±‚\n* ä½¿ç”¨ **Persisted Queryï¼ˆæŒä¹…åŒ–æŸ¥è¯¢ï¼‰** ç¼“è§£åŠ¨æ€æŸ¥è¯¢ç¼“å­˜å¤±æ•ˆä¸å®‰å…¨é£é™©\n\n**2. æˆæƒä¸å®‰å…¨æœºåˆ¶ï¼š**\n\n* éœ€å»ºç«‹ **å­—æ®µçº§è®¿é—®æ§åˆ¶**ï¼Œé˜²æ­¢æ•æ„Ÿæ•°æ®åœ¨èšåˆå±‚è¢«è¿‡åº¦æš´éœ²\n* å¸¸ä¸ API Gateway æˆ– Federation å±‚ç»“åˆå®ç°å¤šæœåŠ¡è®¿é—®é‰´æƒ\n\n---\n\n## äº”ã€ç¨³å®šçŸ¥è¯†ä¸å¯è¿ç§»åŸç†\n\nGraphQL çš„é•¿æœŸä»·å€¼ä¸æ­¢äºæŠ€æœ¯å®ç°ï¼Œè€Œåœ¨äºå…¶ä½“ç°çš„**API è®¾è®¡å“²å­¦**ï¼Œè¿™äº›åŸåˆ™å¯è¿ç§»è‡³ gRPCã€tRPC ç­‰ç°ä»£ API æ¶æ„ä¸­ã€‚\n\n### 1. ç¨³å®šçŸ¥è¯†ä»·å€¼\n\n| åŸç†           | æ ¸å¿ƒæ€æƒ³                  | å¯è¿ç§»æ„ä¹‰            |\n| ------------ | --------------------- | ---------------- |\n| **å¥‘çº¦å¼æ¥å£è®¾è®¡**  | ä»¥ Schema æ˜ç¡®æ•°æ®å¥‘çº¦ï¼Œå‰åç«¯è§£è€¦ | é€‚ç”¨äºæ‰€æœ‰æ¥å£è§„èŒƒåŒ–åœºæ™¯     |\n| **å¯ç»„åˆçš„æ•°æ®æŸ¥è¯¢** | å›¾ç»“æ„éå†æ€æƒ³æå‡æŸ¥è¯¢å¤ç”¨æ€§        | å¯è¿ç§»åˆ°æ•°æ®ä¸­å°ä¸ DSL è®¾è®¡ |\n| **ç‰ˆæœ¬æ— å…³æ¼”è¿›**   | é€šè¿‡å¯é€‰å­—æ®µä¿æŒå…¼å®¹æ€§           | é€‚ç”¨äºé•¿ç”Ÿå‘½å‘¨æœŸ API ä½“ç³»  |\n\n### 2. å¯è¿ç§»è®¤çŸ¥æŠ½è±¡\n\n* **æ¥å£è®¾è®¡åº”å›´ç»•æ•°æ®éœ€æ±‚å»ºæ¨¡**ï¼Œè€Œéå›ºå®šèµ„æºè·¯å¾„\n* **æ•°æ®èšåˆæ¨¡å¼** åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä½“ç°ä¸ºä¸­å¿ƒåŒ–ä¸å»ä¸­å¿ƒåŒ–çš„æ¶æ„å–èˆ\n* **ç±»å‹ç³»ç»Ÿ** æ˜¯æ”¯æ’‘å¤§è§„æ¨¡ API æ²»ç†çš„æ ¸å¿ƒæœºåˆ¶\n\n---\n\n## å…­ã€é•¿æœŸæ¶æ„ä»·å€¼åˆ¤æ–­\n\n> GraphQL ä½“ç°çš„å®¢æˆ·ç«¯é©±åŠ¨ã€ç±»å‹å®‰å…¨ã€æŸ¥è¯¢å¯ç»„åˆç­‰è®¾è®¡æ€æƒ³ï¼Œæ˜¯ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿçš„**é€šç”¨æ¶æ„åŸåˆ™**ã€‚\n> å…¶æ ¸å¿ƒç†å¿µâ€”â€”â€œä»¥æ•°æ®éœ€æ±‚ä¸ºä¸­å¿ƒçš„å¥‘çº¦åŒ– API è®¾è®¡â€â€”â€”åœ¨ä»»ä½• API æŠ€æœ¯æ ˆä¸­éƒ½å…·å¤‡æŒç»­çš„ç†è®ºä¸å®è·µä»·å€¼ã€‚\n\n","metadata":"tags: ['API', 'æŸ¥è¯¢è¯­è¨€', 'å‰ç«¯']","hasMoreCommit":false,"totalCommits":5,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2025-11-16T21:30:56+08:00","author":"MY","message":"docs: ç»Ÿä¸€å¹¶ç²¾ç®€æ–‡æ¡£æ ‡ç­¾","hash":"21362e9d7aeb62e05364cd5e7f3a3c24d7e293c7"},{"date":"2025-11-06T16:05:53+08:00","author":"MY","message":"docs: ä¸ºå¤šä¸ªæ–‡æ¡£æ·»åŠ æ ‡ç­¾å…ƒæ•°æ®","hash":"dc09327da481a60e0d70a640956def97c47a6e7e"},{"date":"2025-11-05T20:20:14+08:00","author":"MY","message":"docs(graphql): é‡æ„GraphQLæ–‡æ¡£å†…å®¹ä¸ç»“æ„","hash":"10d7cd982c2d7080368893427156e9bf5226f8e3"},{"date":"2019-12-09T22:20:54+08:00","author":"MY","message":"æ–°å¢graphql","hash":"76baeab4ca47af3afefc2bb0de4b5691d8d8edfa"}],"createTime":"2019-12-09T22:20:54+08:00"}