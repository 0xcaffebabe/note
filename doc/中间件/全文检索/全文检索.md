# 全文检索

## 数据分类

- 结构化数据
- 非结构化数据

## 数据查询

- 结构化查询
- 非结构化查询

  - 顺序扫描法
  - 全文检索

### 索引

#### 倒排索引：根据词找文章

DocId | Doc
----- | -------------------------------
1     | 谷歌地图之父跳槽 Facebook
2     | 谷歌地图之父加盟 Facebook
3     | 谷歌地图创始人拉斯离开谷歌加盟 Facebook
4     | 谷歌地图之父跳槽 Facebook 与 Wave 项目取消有关
5     | 谷歌地图之父拉斯加盟社交网站 Facebook

对这些doc进行分词之后，以词为主键，记录哪些doc出现了这些词

WordId | Word     | DocIds
------ | -------- | ---------
1      | 谷歌       | 1,2,3,4,5
2      | 地图       | 1,2,3,4,5
3      | 之父       | 1,2,4,5
4      | 跳槽       | 1,4
5      | Facebook | 1,2,3,4,5
6      | 加盟       | 2,3,5
7      | 创始人      | 3
8      | 拉斯       | 3,5
9      | 离开       | 3
10     | 与        | 4
..     | ..       | ..

#### 正排索引：根据文章找词

## 应用场景

- 数据量大
- 数据结构不固定

## 技术选型

目前开源可用的全文检索中间件只有ElasticSearch与Solr 二者都是基于Lucene

ES在许多方面都超过了Solr 所以目前只能选择ES
