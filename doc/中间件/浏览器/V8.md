# V8

- JavaScript 虚拟机

## 对象内存布局

![](/assets/20231226151111.webp)

- element属性：数字属性，会按照数字的值排序存储
- properties属性：常规属性，会按照存入的顺序进行存储
- 对象内属性：有两种策略。快属性策略：属性比较少时，直接存放在对象内。慢属性策略：属性超过10个，多出来的属性将被存储到properties属性中。

![函数对象的内存布局](/assets/20231226155213.webp)

## [原型链](/编程语言/JavaScript/面向对象.md#原型链)

## 作用域链

在 V8 启动后，会创建全局作用域。启动后进入正常的事件循环，当解析到顶层的代码后，会把相应的全局变量加入全局作用域，而在执行函数调用时，会创建出一个本地作用域。在进行变量查找时，遵循的是本地作用域 -> 全局作用域 这条路线进行查找的。
