---
tags: ['架构']
---
# 架构治理

- 架构的变化是不可避免的

驱动架构变化的有业务、技术、人员

## 架构数字化

数字化：将所有东西信息化

- 业务全面在系统中在线完成
- 变化自适应
- 自动化智能化
- 度量

研发过程数字化、使用过程数字化、管理过程数字化

## 技术栈统一

公司基础 + 领导人擅长 = 选型

不统一的技术栈，会使团队未来的成本花费过高，主要体现是在基础设施的建设上。这就导致了技术无法沉淀，关键人员的离去会导致技术断崖

统一化的成本：

- 沟通
- 改造
- 沉没
- 管理

## 风险管控

### 性能治理

有意识的设计时考虑性能可以降低后续改进成本

#### 流量问题

- 缓存建设
- 缓存预热
- 流量控制
- 异步化

#### 热点问题

- 分散热点数据、热点代码

#### 数据问题

- 避免大Key、大表
- 慢SQL优化

#### 日志打印

- 打印性能
  - 流量回放开启日志开关
- 日志异步化

### 依赖治理

#### 依赖瘦身

- 去除未使用依赖 maven dependency plugin

#### 依赖冲突

- mvn dependency:tree

### 版本治理

#### 发布

- 发版周期
- 版本粒度

#### 运营

- 版本分布监控
- 并行版本管理
- 长尾版本 一直在用 没升级的欲望

#### 依赖升级

- 谨防升级引入的兼容问题
- 统一依赖版本 避免版本差异导致的能力不一致
- 避免间接依赖的移除导致能力偏移

#### 版本清退

- 制定最后期限 广泛通知
- 使用流程驱动清退
- 制订静默期 避免僵尸应用诈尸

#### 依赖管理

- BOM 由BOM提供方制定依赖版本
- dependencyManagement 子项目统一使用父项目定义的依赖版本
