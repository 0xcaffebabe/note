# 离线并发模式

## 乐观离线锁

使用冲突检测与事务回滚来防止事务冲突

- 验证一个提交的修改不会与其他修改发生冲突

通过版本号来实现

## 悲观离线锁

每次只允许一个会话访问数据

尽可能早检测出冲突

- 独占写锁
  - 当编辑数据时，需要对数据加锁
- 独占读锁
  - 当读取数据时，需要加锁
- 读写锁
  - 读锁与写锁是互斥的
  - 可以进行并发地读

### 锁管理对象

实现尽可能简单，使用散列表映射锁及锁的持有者

## 粗粒度锁

用锁锁住一组相关的对象

## 隐含锁

将加锁的任务交给父类或者框架

