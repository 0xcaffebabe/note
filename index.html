<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>个人知识框架</title>
  </head>
  <body>
    <div id="app"></div>
    <div style="position: fixed; bottom: 10px; right: 10px" id="buildTime"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
  <script>
    /*build-time*/const buildTime = "" /*build-time*/
    document.getElementById("buildTime").innerHTML = `构建时间: ${new Date(buildTime).toLocaleString()}`
  </script>
  <script>
    // 定时检查js资源是否有效
    setInterval(async () => {
      for(let i of document.querySelectorAll("script")) {
        const url = i.getAttribute("src")
        if (url) {
          const resp = await fetch(url)
          if (resp.status == 404) {
            console.log('refresh')
            window.location.reload()
            break
          }
        }

      }
    }, 10000)
    
  </script>
</html>
