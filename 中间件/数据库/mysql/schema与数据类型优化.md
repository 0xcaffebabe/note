# schema与数据类型优化

## 数据类型

- 更小的通常更好（保证范围够用的情况下）
- 简单就好
  - 整型比字符串操作更低
- 尽量避免使用null
  - 对mysql来说很难优化，因为可为null的列使得索引、索引统计和值比较都更加复杂

### 实际细则

- 字符串
  - 按照查询速度：char>varchar>text
  - varchar根据实际内容长度保存数据
  - char固定长度的字符串
    - 最大长度：255
    - 会自动删除末尾的空格
- BLOB与TEXT
  - 两者都是为了存储很大数据而设计的字符串类型，分别采用二进制和字符方式存储。
- 日期时间
  - datetime
    - 与时区无关，数据库底层时区配置，对datetime无效
    - 可保存到毫秒
  - timestamp
    - 时间范围：1970-01-01到2038-01-19
  - date
    - date类型用于保存1000-01-01到9999-12-31之间的日期
- 使用枚举替代字符串
- 特殊数据类型
  - IP使用整数表示