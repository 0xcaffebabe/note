# 设计

[MySQL 数据库设计规范](https://github.com/Highflyer/MySQL-Design-Specification)

## 设计规范

### 命名规范

### 数据库

- [a-z ][0-9] _
- 不超过30字符
- 备份数据库可以加自然数

### 表

- [a-z ][0-9] _
- 相同关系的表可以加相同的前缀

### 字段

- [a-z ][0-9] _
- 多个单词使用下划线分割
- 每个表必须有自增主键（默认系统时间）
- 关联字段名尽可能相同

## 字段类型规范

- 使用较少的空间来存储
- ip最好使用int
- 固定长度的类型使用char
- 最好给默认值

## 索引规范

- 加一个index后缀
- 为每个表创建主键索引
- 符合索引慎重

## 范式规范

- 必须满足第二范式
- 尽量满足第三范式

## MYSQL设计原则

## 核心原则

- 不在数据库做运算
- 控制列数量（20以内）
- 平衡范式与冗余
- 禁止大SQL
- 禁止大事务
- 禁止大批量

## 字段原则

- 用好数据类型节约空间
- 字符转为数字
- 避免使用NULL
- 少用text

## 索引原则

- 不在索引列做运算
- innodb主键使用自增
- 不用外键

## SQL原则

- 尽可能简单
- 简单事务
- 避免使用触发器，函数
- 不使用select *
- OR改写成IN或UNION
- 避免前%
- 慎用count（*）
- limit高效分页
- 少用连接join
- group by 
- 使用同类型比较
- 打散批量更新
