{"name":"æµè§ˆå™¨","id":"ä¸­é—´ä»¶-æµè§ˆå™¨-æµè§ˆå™¨","content":"# æµè§ˆå™¨\n\n## æ¦‚è¿°ï¼ˆOverviewï¼‰\n\nä»æ¶æ„æ¼”è¿›è§†è§’çœ‹ï¼Œæµè§ˆå™¨ç»å†äº†ï¼š\n\n* å•è¿›ç¨‹åº”ç”¨\n* å¤šè¿›ç¨‹éš”ç¦»ç³»ç»Ÿ\n* é¢å‘æœåŠ¡çš„å†…éƒ¨æ“ä½œç³»ç»Ÿï¼ˆBrowser OS / Browser SOAï¼‰\n\nå…¶æ ¸å¿ƒç›®æ ‡å§‹ç»ˆå›´ç»•ä¸‰ä¸ªé•¿æœŸä¸å˜çš„çº¦æŸå±•å¼€ï¼š\n\n* **å®‰å…¨æ€§ï¼ˆSecurityï¼‰**\n* **ç¨³å®šæ€§ï¼ˆStabilityï¼‰**\n* **æ€§èƒ½ä¸äº¤äº’ä½“éªŒï¼ˆPerformance & UXï¼‰**\n\næœ¬æ–‡ä»**ç¬¬ä¸€æ€§åŸç†ä¸ä½“ç³»ç»“æ„å±‚é¢**ï¼Œç³»ç»Ÿæ€§æŠ½è±¡æµè§ˆå™¨çš„è¿è¡Œæœºåˆ¶ã€èƒ½åŠ›æ¨¡å‹ä¸æ¼”è¿›é€»è¾‘ã€‚\n\n---\n\n## æœ¬è´¨ï¼ˆEssenceï¼‰\n\n### æµè§ˆå™¨çš„æœ¬è´¨å®šä¹‰\n\n> **æµè§ˆå™¨æ˜¯ä¸€ä¸ªé¢å‘ä¸å¯ä¿¡ä»£ç çš„ã€å®‰å…¨éš”ç¦»çš„ã€äº‹ä»¶é©±åŠ¨çš„ã€å¯è§†åŒ–è®¡ç®—å¹³å°ã€‚**\n\nå…¶æœ¬è´¨ç”±å››ä¸ªä¸å¯åˆ†å‰²çš„çº¦æŸå…±åŒå¡‘é€ ï¼š\n\n| çº¦æŸç»´åº¦ | æ ¸å¿ƒé—®é¢˜                |\n| ---- | ------------------- |\n| å®‰å…¨   | å¦‚ä½•æ‰§è¡Œæ¥è‡ªä¸å¯ä¿¡æ¥æºçš„ä»£ç       |\n| å¹¶å‘   | å¦‚ä½•åŒæ—¶å¤„ç†ç”¨æˆ·äº¤äº’ã€æ¸²æŸ“ã€ç½‘ç»œã€è„šæœ¬ |\n| æ€§èƒ½   | å¦‚ä½•åœ¨æ¯«ç§’çº§å“åº”ä¸­å®Œæˆå¤æ‚è®¡ç®—     |\n| å¯è§†åŒ–  | å¦‚ä½•å°†æŠ½è±¡çŠ¶æ€æ˜ å°„ä¸ºå›¾å½¢è¾“å‡º      |\n\n---\n\n## æ¨¡å‹ï¼ˆModelï¼‰\n\n### æµè§ˆå™¨æ•´ä½“è®¤çŸ¥æ¨¡å‹\n\næµè§ˆå™¨å¯è¢«æŠ½è±¡ä¸º **â€œå¤šå¼•æ“ååŒ + äº‹ä»¶å¾ªç¯é©±åŠ¨ + åˆ†å±‚æ¸²æŸ“æµæ°´çº¿â€** çš„ç³»ç»Ÿï¼š\n\n```mermaid\ngraph TD\n    User[ç”¨æˆ·è¾“å…¥]\n    Browser[æµè§ˆå™¨è¿›ç¨‹]\n    Render[æ¸²æŸ“è¿›ç¨‹]\n    JS[JS å¼•æ“]\n    GPU[GPU/åˆæˆ]\n    Screen[å±å¹•è¾“å‡º]\n\n    User --> Browser\n    Browser --> Render\n    Render --> JS\n    Render --> GPU\n    GPU --> Screen\n```\n\næ ¸å¿ƒæ€æƒ³ï¼š\n\n* **æ§åˆ¶å¹³é¢**ï¼šæµè§ˆå™¨è¿›ç¨‹ï¼ˆè°ƒåº¦ / å®‰å…¨ / èµ„æºç®¡ç†ï¼‰\n* **æ‰§è¡Œå¹³é¢**ï¼šæ¸²æŸ“è¿›ç¨‹ + JS å¼•æ“\n* **è¡¨ç°å¹³é¢**ï¼šGPU åˆæˆä¸æ˜¾ç¤º\n\n---\n\n## èƒ½åŠ›ä½“ç³»ï¼ˆCapability Systemï¼‰\n\n### æµè§ˆå™¨æ ¸å¿ƒèƒ½åŠ›æ ‘\n\n```mermaid\ngraph LR\n    Browser --> Isolation[å®‰å…¨éš”ç¦»èƒ½åŠ›]\n    Browser --> Execution[ä»£ç æ‰§è¡Œèƒ½åŠ›]\n    Browser --> Rendering[æ¸²æŸ“èƒ½åŠ›]\n    Browser --> Scheduling[è°ƒåº¦èƒ½åŠ›]\n    Browser --> Memory[å†…å­˜ç®¡ç†èƒ½åŠ›]\n```\n\n#### å…³é”®èƒ½åŠ›æŠ½è±¡\n\n| èƒ½åŠ›    | æœ¬è´¨                  |\n| ----- | ------------------- |\n| å®‰å…¨éš”ç¦»  | ä¸å¯ä¿¡ä»£ç çš„æœ€å°æƒé™æ‰§è¡Œ        |\n| æ¸²æŸ“æµæ°´çº¿ | çŠ¶æ€ â†’ å‡ ä½• â†’ åƒç´  çš„ç¡®å®šæ€§è½¬æ¢ |\n| è°ƒåº¦ç³»ç»Ÿ  | æœ‰é™ä¸»çº¿ç¨‹ä¸Šçš„å…¬å¹³ä¸ä¼˜å…ˆçº§       |\n| å†…å­˜ç®¡ç†  | è‡ªåŠ¨å›æ”¶ + åœé¡¿æ§åˆ¶         |\n| å¹¶å‘æŠ½è±¡  | â€œçœ‹ä¼¼å¹¶è¡Œâ€çš„å•çº¿ç¨‹è¯­ä¹‰        |\n\n---\n\n## æ¶æ„æ¨¡å‹ï¼ˆArchitecture Modelï¼‰\n\n### è¿›ç¨‹æ¶æ„æ¼”è¿›å“²å­¦\n\n| é˜¶æ®µ     | æ ¸å¿ƒé—®é¢˜  | æ¶æ„æ€æƒ³   |\n| ------ | ----- | ------ |\n| å•è¿›ç¨‹    | å´©æºƒå³å…¨å´© | ç®€å•ä½†è„†å¼±  |\n| å¤šè¿›ç¨‹    | éš”ç¦»ä¸ç¨³å®š | ç©ºé—´æ¢å®‰å…¨  |\n| å†…éƒ¨ SOA | èµ„æºæµªè´¹  | æœåŠ¡åŒ–ã€å¤ç”¨ |\n\n#### æ¶æ„åŸåˆ™\n\n* **ç«™ç‚¹éš”ç¦»ä¼˜å…ˆäºèµ„æºå¤ç”¨**\n* **å¤±è´¥å¿…é¡»è¢«é™åˆ¶åœ¨æœ€å°è¾¹ç•Œ**\n* **è¿›ç¨‹ â‰  çº¿ç¨‹ï¼Œè€Œæ˜¯å®‰å…¨ä¸è°ƒåº¦è¾¹ç•Œ**\n\n---\n\n## ç±»å‹ä½“ç³»ï¼ˆTaxonomyï¼‰\n\n### æµè§ˆå™¨å†…éƒ¨ç³»ç»Ÿåˆ†ç±»\n\n| å­ç³»ç»Ÿ  | ç±»å‹                           |\n| ---- | ---------------------------- |\n| æ‰§è¡Œç³»ç»Ÿ | JavaScript å¼•æ“ï¼ˆè§£é‡Š + JITï¼‰      |\n| æ¸²æŸ“ç³»ç»Ÿ | DOM / CSSOM / Layout / Paint |\n| è°ƒåº¦ç³»ç»Ÿ | äº‹ä»¶å¾ªç¯ / ä»»åŠ¡é˜Ÿåˆ—                  |\n| å†…å­˜ç³»ç»Ÿ | æ ˆ / å † / GC                   |\n| å›¾å½¢ç³»ç»Ÿ | å›¾å±‚ / åˆæˆ / GPU                |\n\n---\n\n## æ¸²æŸ“ä½“ç³»çš„ç¬¬ä¸€æ€§åŸç†\n\n### æ¸²æŸ“çš„æœ¬è´¨\n\n> **æ¸²æŸ“æ˜¯ä¸€ä¸ªä»â€œå£°æ˜å¼çŠ¶æ€â€åˆ°â€œåƒç´ è¾“å‡ºâ€çš„ç¡®å®šæ€§æµæ°´çº¿ã€‚**\n\n### æŠ½è±¡æ¸²æŸ“æµæ°´çº¿\n\n```mermaid\ngraph LR\n    State[HTML/CSS/JS] --> Style[Style]\n    Style --> Layout[Layout]\n    Layout --> Paint[Paint]\n    Paint --> Composite[Composite]\n```\n\n### ä¸å¯å˜åŸåˆ™\n\n* å¸ƒå±€ = å‡ ä½•è®¡ç®—\n* ç»˜åˆ¶ = åƒç´ æŒ‡ä»¤ç”Ÿæˆ\n* åˆæˆ = ä½å›¾ç»„åˆ\n\n#### æ€§èƒ½æœ¬è´¨è§„å¾‹\n\n> **å‡¡æ˜¯è·¨è¶Š Layout / Paint çš„å˜æ›´ï¼Œå¿…ç„¶æ˜‚è´µã€‚**\n\n---\n\n## è°ƒåº¦ä¸äº‹ä»¶å¾ªç¯æ¨¡å‹ï¼ˆScheduling Modelï¼‰\n\n### å•çº¿ç¨‹çš„å“²å­¦\n\nJavaScript çš„å•çº¿ç¨‹ä¸æ˜¯é™åˆ¶ï¼Œè€Œæ˜¯ï¼š\n\n* æ¶ˆé™¤æ•°æ®ç«äº‰\n* ç®€åŒ–å¿ƒæ™ºæ¨¡å‹\n* å¼ºåŒ–äº‹ä»¶é©±åŠ¨\n\n### æŠ½è±¡äº‹ä»¶å¾ªç¯æ¨¡å‹\n\n```mermaid\ngraph TD\n    Macro[å®ä»»åŠ¡é˜Ÿåˆ—]\n    Micro[å¾®ä»»åŠ¡é˜Ÿåˆ—]\n    Render[æ¸²æŸ“é˜¶æ®µ]\n\n    Macro --> Micro\n    Micro --> Render\n    Render --> Macro\n```\n\n#### è°ƒåº¦ä¸å˜é‡\n\n* ä¸€ä¸ªå®ä»»åŠ¡ â†’ æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡\n* å¾®ä»»åŠ¡æ˜¯**å®ä»»åŠ¡å†…éƒ¨çš„å¼ºä¸€è‡´æ€§è¡¥å¿æœºåˆ¶**\n* æ¸²æŸ“å‘ç”Ÿåœ¨å®ä»»åŠ¡ä¹‹é—´\n\n---\n\n## å†…å­˜ç®¡ç†ä¸æ‰§è¡Œç³»ç»Ÿï¼ˆRuntime Systemï¼‰\n\n### å†…å­˜çš„æœ¬è´¨åˆ†å±‚\n\n| å±‚çº§  | ç®¡ç†ç­–ç•¥      |\n| --- | --------- |\n| æ ˆ   | ç¡®å®šæ€§ã€è‡ªåŠ¨å›æ”¶  |\n| æ–°ç”Ÿä»£ | å¿«é€Ÿåˆ†é…ã€å¤åˆ¶   |\n| è€ç”Ÿä»£ | å¢é‡æ ‡è®°ã€å¹¶å‘å›æ”¶ |\n\n#### æ ¸å¿ƒå“²å­¦\n\n> **GC ä¸æ˜¯æ¶ˆé™¤åœé¡¿ï¼Œè€Œæ˜¯ç®¡ç†åœé¡¿ã€‚**\n\n---\n\n## è™šæ‹Ÿ DOM çš„æŠ½è±¡ä»·å€¼\n\n### è™šæ‹Ÿ DOM çš„æœ¬è´¨\n\n> **è™šæ‹Ÿ DOM æ˜¯â€œè§†å›¾çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰â€ï¼Œè€Œéæ€§èƒ½é­”æ³•ã€‚**\n\nå…¶ä»·å€¼ä¸åœ¨äºå¿«ï¼Œè€Œåœ¨äºï¼š\n\n* æ‰¹é‡å˜æ›´\n* è·¨å¹³å°æŠ½è±¡\n* è°ƒåº¦ä¸ä¸­æ–­èƒ½åŠ›ï¼ˆFiberï¼‰\n\n#### æŠ½è±¡å±‚çº§å…³ç³»\n\n```mermaid\ngraph LR\n    State --> VDOM\n    VDOM --> DOM\n    DOM --> RenderPipeline\n```\n\n---\n\n## è¾¹ç•Œä¸ç”Ÿæ€ï¼ˆBoundary & Ecosystemï¼‰\n\n### æµè§ˆå™¨çš„ç³»ç»Ÿè¾¹ç•Œ\n\n| è¾¹ç•Œ     | æè¿°        |\n| ------ | --------- |\n| OS è¾¹ç•Œ  | æ²™ç®±ã€æƒé™ã€è¿›ç¨‹  |\n| GPU è¾¹ç•Œ | å›¾å½¢åŠ é€Ÿ      |\n| ç½‘ç»œè¾¹ç•Œ   | å®‰å…¨åè®®ã€åŒæº   |\n| è¯­è¨€è¾¹ç•Œ   | JS / WASM |\n\n---\n\n## æ²»ç†ä½“ç³»ï¼ˆGovernance Systemï¼‰\n\næµè§ˆå™¨æ²»ç†çš„æ ¸å¿ƒç›®æ ‡ï¼š\n\n* **ä¸å¯é˜»å¡ UI**\n* **ä¸å¯çªç ´å®‰å…¨è¾¹ç•Œ**\n* **ä¸å¯å¤±æ§èµ„æºä½¿ç”¨**\n\nå¯¹åº”æœºåˆ¶ï¼š\n\n| æ²»ç†ç»´åº¦ | æ‰‹æ®µ        |\n| ---- | --------- |\n| CPU  | è°ƒåº¦ã€åˆ†ç‰‡     |\n| å†…å­˜   | GCã€é™åˆ¶     |\n| æ—¶é—´   | å¸§é¢„ç®—ï¼ˆ16msï¼‰ |\n| æƒé™   | åŒæºç­–ç•¥      |\n\n---\n\n## æ¼”è¿›è¶‹åŠ¿ï¼ˆEvolutionï¼‰\n\n### ä¸å˜çš„æ¼”è¿›æ–¹å‘\n\n* æ›´å¼ºçš„éš”ç¦»ï¼ˆSite Isolationï¼‰\n* æ›´ç²¾ç»†çš„è°ƒåº¦ï¼ˆScheduler APIï¼‰\n* æ›´ä½å±‚çš„èƒ½åŠ›å¼€æ”¾ï¼ˆWebGPU / WASMï¼‰\n* æµè§ˆå™¨ â‰ˆ Web OS\n\n---\n\n## é€‰å‹æ–¹æ³•è®ºï¼ˆSelection Frameworkï¼‰\n\n### æŠ€æœ¯å†³ç­–æ ¸å¿ƒé—®é¢˜\n\n> **æ˜¯å¦è·¨è¶Šæ¸²æŸ“æµæ°´çº¿çš„è¾¹ç•Œï¼Ÿ**\n\n| åœºæ™¯   | ä¼˜å…ˆç­–ç•¥          |\n| ---- | ------------- |\n| åŠ¨ç”»   | åˆæˆå±æ€§          |\n| è®¡ç®—   | Worker / WASM |\n| çŠ¶æ€æ›´æ–° | æ‰¹é‡ã€è°ƒåº¦         |\n| è·¨ç«¯   | ä¸­é—´è¡¨ç¤º          |\n\n---\n\n## æ€»ç»“ï¼ˆConclusionï¼‰\n\næµè§ˆå™¨çš„çœŸæ­£å¤æ‚æ€§ä¸åœ¨ APIï¼Œè€Œåœ¨å…¶èƒŒåçš„**ç³»ç»Ÿçº§çº¦æŸå¹³è¡¡**ï¼š\n\n* å•çº¿ç¨‹è¯­ä¹‰ vs å¹¶å‘ç°å®\n* å®‰å…¨éš”ç¦» vs æ€§èƒ½æé™\n* å³æ—¶å“åº” vs å¯æ§è®¡ç®—\n\nç†è§£æµè§ˆå™¨ï¼Œæœ€ç»ˆä¸æ˜¯å­¦ä¹ â€œæ€ä¹ˆç”¨â€ï¼Œè€Œæ˜¯ç†è§£ï¼š\n\n> **ä¸€ä¸ªåœ¨ä¸å¯ä¿¡ç¯å¢ƒä¸­ï¼Œæ„å»ºç¡®å®šæ€§ä½“éªŒçš„è®¡ç®—ç³»ç»Ÿï¼Œæ˜¯å¦‚ä½•å¯èƒ½çš„ã€‚**\n\nè¿™æ­£æ˜¯æµè§ˆå™¨æ¶æ„é•¿æœŸç¨³å®šã€ä¸éšæ¡†æ¶å˜åŒ–è€ŒåŠ¨æ‘‡çš„**ç¬¬ä¸€æ€§åŸç†æ‰€åœ¨**ã€‚\n\n## å…³è”å†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰\n\n- [/ä¸­é—´ä»¶/æµè§ˆå™¨/V8.md](/ä¸­é—´ä»¶/æµè§ˆå™¨/V8.md) V8å¼•æ“ä½œä¸ºæµè§ˆå™¨çš„æ ¸å¿ƒJavaScriptæ‰§è¡Œå¼•æ“ï¼Œä¸æµè§ˆå™¨çš„æ‰§è¡Œç³»ç»Ÿå’Œæ€§èƒ½ä¼˜åŒ–å¯†åˆ‡ç›¸å…³\n- [/ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.md](/ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.md) JavaScriptä½œä¸ºæµè§ˆå™¨ä¸­ä¸»è¦çš„è„šæœ¬è¯­è¨€ï¼Œå…¶æ‰§è¡Œæœºåˆ¶ä¸æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯å’Œæ¸²æŸ“æœºåˆ¶ç´§å¯†å…³è”\n- [/è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå®‰å…¨/Webå®‰å…¨.md](/è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå®‰å…¨/Webå®‰å…¨.md) æµè§ˆå™¨å®‰å…¨æœºåˆ¶ä¸Webå®‰å…¨çš„åŒæºç­–ç•¥ã€CSPç­‰å®‰å…¨åè®®å¯†åˆ‡ç›¸å…³\n- [/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.md](/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.md) Webå‰ç«¯æŠ€æœ¯ç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä¸æµè§ˆå™¨çš„èƒ½åŠ›ä½“ç³»å’Œæ¸²æŸ“æœºåˆ¶å¯†åˆ‡ç›¸å…³\n","metadata":"tags: ['å‰ç«¯', 'è®¡ç®—æœºç³»ç»Ÿ', 'å®‰å…¨', 'æ€§èƒ½']","hasMoreCommit":false,"totalCommits":8,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2025-12-17T11:11:35+08:00","author":"MY","message":"docs(browser): é‡æ„æµè§ˆå™¨æ¶æ„ä¸æ¸²æŸ“æœºåˆ¶æ–‡æ¡£å†…å®¹","hash":"1599ff1f74d53fc2c77c1c1a051fb6d6ca8a3311"},{"date":"2022-10-18T16:19:22+08:00","author":"cjiping","message":"âœï¸æµè§ˆå™¨","hash":"917b0877ffc7030c6666916cb11a3c2a26db8eee"},{"date":"2022-10-17T15:26:37+08:00","author":"cjiping","message":"ğŸ“¦æµè§ˆå™¨","hash":"07b49bbcd2ffa7f61ead7892b19de15b3565f65d"},{"date":"2022-10-14T17:34:45+08:00","author":"cjiping","message":"âœï¸æµè§ˆå™¨","hash":"9b7ecfa592b4d6bfd5f2f41e8f184955d04a9471"},{"date":"2022-10-13T16:56:42+08:00","author":"cjiping","message":"âœï¸æµè§ˆå™¨","hash":"1dc5c08f49de9b0f12d12ef535f6cddff3ad2611"},{"date":"2022-09-22T19:11:00+08:00","author":"cjiping","message":"âœï¸æµè§ˆå™¨","hash":"096ed8c77864bdbae49a1cfdcecaecd4aa59e077"},{"date":"2022-09-20T20:25:29+08:00","author":"cjiping","message":"â•æµè§ˆå™¨","hash":"9433a625ce40f2ae82ec7ccaad78e4df3620f840"}],"createTime":"2022-09-20T20:25:29+08:00"}