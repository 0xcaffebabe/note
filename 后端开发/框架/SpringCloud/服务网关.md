# API Gateway

![](http://favorites.ren/assets/images/2017/springcloud/api_gateway.png)

# Spring Cloud Zuul

- 添加依赖

```xml
<dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-netflix-zuul</artifactId>
        </dependency>
```

- 配置

```properties
server.port=8010
spring.application.name=gateway

#这里的配置表示，访问/bd/** 直接重定向到http://baidu.com/**
zuul.routes.baidu.path=/bd/**
zuul.routes.baidu.url=http://baidu.com/


eureka.client.serviceUrl.defaultZone=http://localhost:8001/eureka/
```

# 默认路由规则

http://ZUUL_HOST:ZUUL_PORT/微服务在Eureka上的serviceId/**

比如访问http://localhost:8010/producer/

则gateway就会把请求转发到producer服务上面去

