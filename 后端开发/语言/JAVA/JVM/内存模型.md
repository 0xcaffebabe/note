# 内存模型

## JDK7的堆内存模型

![](https://img-blog.csdnimg.cn/20190222154219611.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE2MjU0MjE=,size_16,color_FFFFFF,t_70)

1.Young （新生代）

新生代 分为三部分。Eden区(new 的对象)和两个大小相同的Survivior区（某一时刻，只有一个被使用），另外一个，当Eden区满了，GC就会将存活的对象移动到空闲的Survivor区，根据JVM的策略，在经过几次垃圾收集后，依然存活在Survivor区的对象，将移动到Tenured区（老年代）

2.Tenured（老年代）

老年代 主要保存生命周期长的对象。（new 的大对象，会直接进入老年代）

3.Perm（永久代）

永久代主要保存class、method、filed对象。这部分的空间一般不会溢出，除非一次性加载很多的类，不过在涉及热部署的应用服务器的时候，有时候会遇到 java.lang.OutOfMemoryError: PermGen space的错误

4.Virtual区：

最大内存和初始内存的差值，就是Virtual区

## JDK8堆内存模型

![](https://img-blog.csdnimg.cn/20190222154349947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE2MjU0MjE=,size_16,color_FFFFFF,t_70)

![](https://img-blog.csdnimg.cn/20190222154442676.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE2MjU0MjE=,size_16,color_FFFFFF,t_70)


## 为何移除

>This is part of the JRockit and Hotspot convergence effort. JRockit customers do not need to configure the permanent generation (since JRockit does not have a permanent generation) and are accustomed to not configuring the permanent generation

## 查看堆内存使用情况



