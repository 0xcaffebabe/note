# 多处理机系统

![屏幕截图 2020-12-24 142533](/assets/屏幕截图%202020-12-24%20142533.png)

三种类型的多处理机系统

- a：共用一个物理存储器 对程序员透明
- b：没有全局共享屋里存储器 编程较困难
- c：通过网络连接起来的分布式系统

## 多处理机

多个CPU共享访问一个公用RAM

### 多处理机硬件

**统一存储器访问（UMA）**

#### 基于总线的UMA多处理机体系结构

![屏幕截图 2020-12-24 145430](/assets/屏幕截图%202020-12-24%20145430.png)

没有高速缓存就需要在数据写入是进行总线冲突检测，这样系统会 受到总线带宽的限制，加上缓存或者私有存储器 总线流量就大大减少 可以支持更多的CPU

#### 使用交叉开关的UMA多处理机

![屏幕截图 2020-12-24 160022](/assets/屏幕截图%202020-12-24%20160022.png)

这种方式两个处理器对同一个存储器的竞争将降低到1/n

但交叉点的数量是处理器的平方倍

#### 使用多级交换网络的UMA多处理机



- NUMA多处理机

- 多核芯片

- 众核芯片
- 异构多核
- 在多核上编程

## 多处理机操作系统类型

- 每个CPU有自己的操作系统
- 主从多处理机
- 对称多处理机
- 多处理机同步

## 多处理机调度

- 分时

  亲和调度

- 空间共享

- 群调度

  - 把一组相关相关线程作为一个单位进行调度
  - 一个群中的相关线程在不同的分时CPU上同时运行
  - 群众所有成员共同开始和结束时间片

# 多计算机

## 多计算机硬件

- 互连技术

  - 存储转发包交换
  - 电路交换

- 网络接口

## 低层通信软件

- 节点至网络接口通信
- 远程直接内存访问

## 用户层通信软件
- 发送和接收
- 阻塞调用和非阻塞调用

## 远程过程调用

## 分布式共享存储器
- 复制
- 伪共享
- 实现顺序一致性

## 多计算机调度

## 负载均衡
- 图论确定算法
- 发送者发起的分布式启发算法
- 接受者发起的分布式启发算法

# 分布式系统

## 网络硬件
- 以太网
- 因特网

## 网络服务和协议

## 基于文档的中间件

## 基于文件系统的中间件

## 基于对象的中间件

## 基于协作的中间件
