{"name":"C","id":"ç¼–ç¨‹è¯­è¨€-C","content":"# Cè¯­è¨€\n\n## ä¸€ã€Cè¯­è¨€çš„æœ¬è´¨å®šä½ï¼ˆWhy C Existsï¼‰\n\n### 1.1 Cè¯­è¨€ä¸æ˜¯â€œé«˜çº§è¯­è¨€â€ï¼Œè€Œæ˜¯â€œæŠ½è±¡è¾¹ç•Œè¯­è¨€â€\n\n* C çš„æ ¸å¿ƒä»·å€¼ä¸åœ¨äºâ€œå†™å¾—å¿«â€ï¼Œè€Œåœ¨äºï¼š\n\n  * **ä»¥æœ€å°æŠ½è±¡ä»£ä»·æš´éœ²æœºå™¨èƒ½åŠ›**\n  * **ç”¨è¯­è¨€å±‚ç›´æ¥å¯¹æ¥ ABIã€OSã€CPU**\n\n> C çš„è®¾è®¡ç›®æ ‡ä»æ¥ä¸æ˜¯â€œä¿æŠ¤ç¨‹åºå‘˜â€ï¼Œè€Œæ˜¯â€œä¿¡ä»»ç¨‹åºå‘˜â€ã€‚\n\n**ç¬¬ä¸€æ€§åŸç†ï¼š**\n\n* è®¡ç®—æœºçš„æœ¬è´¨æ˜¯ï¼š\n\n  * å­˜å‚¨ï¼ˆMemoryï¼‰\n  * è®¡ç®—ï¼ˆCPUï¼‰\n  * æ§åˆ¶æµï¼ˆControl Flowï¼‰\n* C æ˜¯å¯¹è¿™ä¸‰è€…çš„ *æœ€è–„æŠ½è±¡å±‚*\n\n---\n\n### 1.2 C åœ¨ç°ä»£æŠ€æœ¯æ ˆä¸­çš„çœŸå®ç”Ÿæ€ä½\n\n| å±‚çº§      | è§’è‰²                | C çš„ä½ç½®  |\n| ------- | ----------------- | ------ |\n| ç¡¬ä»¶      | CPU / Cache / MMU | ç›´æ¥å¯æ˜ å°„  |\n| OS      | Kernel / Syscall  | æ ¸å¿ƒè¯­è¨€   |\n| Runtime | VM / GC / Loader  | å¸¸ç”¨å®ç°è¯­è¨€ |\n| åº”ç”¨      | ä¸šåŠ¡é€»è¾‘              | è¾¹ç¼˜åŒ–    |\n\n> **ç»“è®º**ï¼š\n> C ä¸æ˜¯â€œè¿‡æ—¶â€ï¼Œè€Œæ˜¯ **è¢«é™åˆ¶åœ¨å®ƒæœ€æ“…é•¿çš„å±‚çº§**ã€‚\n\n---\n\n## äºŒã€Cè¯­è¨€èƒ½åŠ›æ€»è§ˆï¼ˆèƒ½åŠ›æ ‘è§†è§’ï¼‰\n\n```\nCè¯­è¨€ç³»ç»Ÿèƒ½åŠ›æ¨¡å‹\nâ”œâ”€ A. æŠ½è±¡è¾¹ç•Œè®¤çŸ¥èƒ½åŠ›\nâ”œâ”€ B. å†…å­˜æ¨¡å‹ä¸æ•°æ®å¸ƒå±€èƒ½åŠ›\nâ”œâ”€ C. æ‰§è¡Œæ¨¡å‹ä¸æ§åˆ¶æµèƒ½åŠ›\nâ”œâ”€ D. ç¼–è¯‘æœŸä¸é“¾æ¥æœŸç†è§£èƒ½åŠ›\nâ”œâ”€ E. å¹¶å‘ä¸å¯è§æ€§æ§åˆ¶èƒ½åŠ›\nâ”œâ”€ F. ç³»ç»Ÿæ¥å£ä¸IOèƒ½åŠ›\nâ”œâ”€ G. æ€§èƒ½å»ºæ¨¡ä¸ä¼˜åŒ–èƒ½åŠ›\n```\n\nåç»­ç« èŠ‚å°†ä¸¥æ ¼å›´ç»•è¿™äº› **ç¨³å®šèƒ½åŠ›** å±•å¼€ã€‚\n\n---\n\n## ä¸‰ã€æŠ½è±¡è¾¹ç•Œèƒ½åŠ›ï¼ˆC ä¸ä¸–ç•Œå¦‚ä½•å¯¹æ¥ï¼‰\n\n### 3.1 C ä¸ç¡¬ä»¶ï¼š\n\n* æŒ‡é’ˆ = åœ°å€\n* ç±»å‹ = è®¿é—®å®½åº¦ + è§£é‡Šæ–¹å¼\n* è¿ç®— = æŒ‡ä»¤è¯­ä¹‰æ˜ å°„\n\n> C ä¸å±è”½ç¡¬ä»¶å·®å¼‚ï¼Œè€Œæ˜¯è¦æ±‚ç¨‹åºå‘˜**ç†è§£å¹¶æ‰¿æ‹…å·®å¼‚**ã€‚\n\n---\n\n### 3.2 C ä¸æ“ä½œç³»ç»Ÿ\n\n* è¿›ç¨‹ä¸æ˜¯ C è¯­è¨€æ¦‚å¿µ\n* çº¿ç¨‹ä¸æ˜¯ C è¯­è¨€æ¦‚å¿µ\n* æ–‡ä»¶ä¸æ˜¯ C è¯­è¨€æ¦‚å¿µ\n\nC çš„è§’è‰²æ˜¯ï¼š\n\n> **ä½œä¸º ABI åˆçº¦çš„ä¸€æ–¹ï¼Œä¸ OS åä½œ**\n\n---\n\n### 3.3 C ä¸ ABIï¼ˆApplication Binary Interfaceï¼‰\n\nABI å®šä¹‰äº†ï¼š\n\n* å‡½æ•°è°ƒç”¨çº¦å®š\n* æ ˆå¸§ç»“æ„\n* å‚æ•°ä¼ é€’æ–¹å¼\n* æ•°æ®å¯¹é½è§„åˆ™\n\n**ç¨³å®šç»“è®ºï¼š**\n\n> C ç¨‹åºçœŸæ­£è¿è¡Œæ—¶ï¼Œéµå¾ªçš„æ˜¯ ABIï¼Œè€Œä¸æ˜¯ C æ ‡å‡†æ–‡æœ¬ã€‚\n\n---\n\n## å››ã€å†…å­˜æ¨¡å‹èƒ½åŠ›ï¼ˆC çš„æ ¸å¿ƒï¼‰\n\n### 4.1 å­˜å‚¨åŒºçš„ç¬¬ä¸€æ€§åˆ’åˆ†\n\n| åŒºåŸŸ      | æœ¬è´¨è§’è‰²     |\n| ------- | -------- |\n| .text   | ä¸å¯å˜æŒ‡ä»¤    |\n| .rodata | ä¸å¯å˜æ•°æ®    |\n| .data   | å·²åˆå§‹åŒ–å…¨å±€çŠ¶æ€ |\n| .bss    | é›¶åˆå§‹åŒ–çŠ¶æ€   |\n| stack   | ä¸´æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡  |\n| heap    | æ˜¾å¼ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ |\n\n**æ ¸å¿ƒåŸåˆ™ï¼š**\n\n> C å°†â€œç”Ÿå‘½å‘¨æœŸç®¡ç†â€å®Œå…¨äº¤ç»™ç¨‹åºå‘˜ã€‚\n\n---\n\n### 4.2 æŒ‡é’ˆçš„æœ¬è´¨\n\n* æŒ‡é’ˆä¸æ˜¯â€œå¼•ç”¨â€\n* æŒ‡é’ˆæ˜¯ï¼š\n\n  * åœ°å€å€¼\n  * * ç±»å‹è§£é‡Šè§„åˆ™\n\n**åœ°å€ç®—æœ¯çš„åŸç†ï¼š**\n\n> æŒ‡é’ˆè¿ç®— = åœ°å€ + sizeof(type)\n\n---\n\n### 4.3 æ•°æ®å¸ƒå±€ã€å¯¹é½ä¸è”åˆ\n\n* å¯¹é½ä¸æ˜¯ä¼˜åŒ–æŠ€å·§ï¼Œè€Œæ˜¯**ç¡¬ä»¶è®¿é—®çº¦æŸ**\n* struct = é¡ºåºå¸ƒå±€ + padding\n* union = å¤šç§è§£é‡Šå…±äº«åŒä¸€å—å†…å­˜\n\n**å“²å­¦å±‚æ€»ç»“ï¼š**\n\n> C å…è®¸ä½ ç›´æ¥æ“çºµâ€œå†…å­˜çš„å½¢æ€â€ã€‚\n\n---\n\n## äº”ã€æ‰§è¡Œæ¨¡å‹èƒ½åŠ›ï¼ˆç¨‹åºå¦‚ä½•è¿è¡Œï¼‰\n\n### 5.1 å‡½æ•°è°ƒç”¨çš„çœŸå®å«ä¹‰\n\nå‡½æ•°è°ƒç”¨ =\n\n* åˆ›å»ºæ ˆå¸§\n* å‚æ•°ä¼ é€’\n* ä¿å­˜è¿”å›åœ°å€\n\n> åœ¨ C ä¸­ï¼Œå‡½æ•°ä¸æ˜¯â€œé»‘ç›’â€ï¼Œè€Œæ˜¯**æ ˆæ“ä½œåè®®**ã€‚\n\n---\n\n### 5.2 æ§åˆ¶æµçš„æœ¬è´¨\n\n* if / while â†’ æ¡ä»¶è·³è½¬\n* goto â†’ æ— æ¡ä»¶è·³è½¬\n\n**ç¨³å®šç»“è®ºï¼š**\n\n> æ‰€æœ‰æ§åˆ¶æµï¼Œæœ€ç»ˆéƒ½é€€åŒ–ä¸ºè·³è½¬æŒ‡ä»¤ã€‚\n\n---\n\n### 5.3 éæœ¬åœ°è·³è½¬çš„å“²å­¦å«ä¹‰\n\n* æœ¬åœ°è·³è½¬ï¼šæ§åˆ¶æµåœ¨åŒä¸€æ ˆå¸§å†…\n* éæœ¬åœ°è·³è½¬ï¼šæ¢å¤è°ƒç”¨ä¸Šä¸‹æ–‡\n\n> è¿™æ­ç¤ºäº†ï¼š**æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯å¯ä¿å­˜ã€å¯æ¢å¤çš„çŠ¶æ€**ã€‚\n\n---\n\n## å…­ã€ç¼–è¯‘æœŸä¸é“¾æ¥æœŸèƒ½åŠ›\n\n### 6.1 C ç¨‹åºä¸æ˜¯â€œä¸€æ¬¡ç¼–è¯‘â€çš„ç»“æœ\n\né˜¶æ®µï¼š\n\n1. é¢„å¤„ç†\n2. ç¼–è¯‘\n3. æ±‡ç¼–\n4. é“¾æ¥\n\n**å¤´æ–‡ä»¶çš„æœ¬è´¨ï¼š**\n\n> ä¸æ˜¯ä»£ç å¤ç”¨ï¼Œè€Œæ˜¯**å£°æ˜ä¸€è‡´æ€§åè®®**ã€‚\n\n---\n\n### 6.2 å®çš„è®¾è®¡å“²å­¦\n\n* å®ä¸æ˜¯å‡½æ•°\n* å®å‘ç”Ÿåœ¨è¯­ä¹‰åˆ†æä¹‹å‰\n\n**ç¬¬ä¸€æ€§ç»“è®ºï¼š**\n\n> å®æ˜¯â€œæ–‡æœ¬çº§æŠ½è±¡â€ï¼Œä¸å…·å¤‡è¯­ä¹‰å®‰å…¨æ€§ã€‚\n\n---\n\n## ä¸ƒã€å¹¶å‘ä¸å¯è§æ€§èƒ½åŠ›ï¼ˆC11ï¼‰\n\n### 7.1 å¹¶å‘çš„æœ¬è´¨é—®é¢˜\n\n* åŸå­æ€§\n* å¯è§æ€§\n* é¡ºåºä¸€è‡´æ€§\n\n> å¹¶å‘ä¸æ˜¯â€œåŒæ—¶æ‰§è¡Œâ€ï¼Œè€Œæ˜¯â€œå¦‚ä½•è§‚å¯Ÿæ‰§è¡Œç»“æœâ€ã€‚\n\n---\n\n### 7.2 C11 åŸå­æ¨¡å‹çš„å®šä½\n\n* C11 ä¸æä¾›å¹¶å‘æŠ½è±¡\n* åªæä¾› **æœ€åº•å±‚å†…å­˜è¯­ä¹‰å·¥å…·**\n\n**å“²å­¦æ€»ç»“ï¼š**\n\n> C åªè§£å†³â€œæ­£ç¡®æ€§æœ€å°é›†â€ï¼Œä¸è§£å†³â€œæ˜“ç”¨æ€§â€ã€‚\n\n---\n\n## å…«ã€ç³»ç»Ÿæ¥å£ä¸ IO èƒ½åŠ›\n\n### 8.1 stdio vs syscall\n\n* stdioï¼šç¼“å†² + æŠ½è±¡\n* syscallï¼šç›´æ¥è¿›å…¥å†…æ ¸\n\n**ç¨³å®šåŸåˆ™ï¼š**\n\n> æ‰€æœ‰ IOï¼Œæœ€ç»ˆéƒ½é€€åŒ–ä¸ºç³»ç»Ÿè°ƒç”¨ã€‚\n\n---\n\n### 8.2 æ–‡ä»¶æè¿°ç¬¦æ¨¡å‹\n\n* ä¸€åˆ‡çš†æ–‡ä»¶\n* fd = å†…æ ¸å¯¹è±¡å¼•ç”¨\n\n> C åœ¨æ­¤æ‰®æ¼”çš„æ˜¯ **ç”¨æˆ·æ€ä»£ç†è¯­è¨€**ã€‚\n\n---\n\n## ä¹ã€æ€§èƒ½å»ºæ¨¡ä¸ä¼˜åŒ–å“²å­¦\n\n### 9.1 æ€§èƒ½çš„ç¬¬ä¸€æ€§æ¥æº\n\n* å±€éƒ¨æ€§\n* åˆ†æ”¯å¯é¢„æµ‹æ€§\n* å†…å­˜è®¿é—®æ¬¡æ•°\n\n> æ€§èƒ½ä¸æ˜¯â€œæŠ€å·§â€ï¼Œè€Œæ˜¯**å¯¹ç¡¬ä»¶è¡Œä¸ºçš„å°Šé‡**ã€‚\n\n---\n\n### 9.2 ç¼–è¯‘å™¨åä½œæ¨¡å‹\n\n* inline\n* restrict\n* ä¼˜åŒ–ç­‰çº§\n\n**æ ¸å¿ƒæ€æƒ³ï¼š**\n\n> é«˜æ€§èƒ½ C ç¨‹åº = äººä¸ç¼–è¯‘å™¨çš„åˆä½œç»“æœã€‚\n## å…³è”å†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰\n\n- [/ç¼–è¯‘åŸç†/ç¼–è¯‘åŸç†.md](/ç¼–è¯‘åŸç†/ç¼–è¯‘åŸç†.md) Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹æ¶‰åŠè¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æã€ä¸­é—´è¡¨ç¤ºã€ä¼˜åŒ–å’Œä»£ç ç”Ÿæˆç­‰é˜¶æ®µï¼Œä¸ç¼–è¯‘åŸç†å¯†åˆ‡ç›¸å…³\n- [/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md](/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md) Cè¯­è¨€ç›´æ¥æ“ä½œå†…å­˜ï¼Œå…¶å†…å­˜æ¨¡å‹ã€æŒ‡é’ˆè¿ç®—ã€å †æ ˆç®¡ç†ç­‰æ¦‚å¿µä¸æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†æœºåˆ¶ç´§å¯†ç›¸å…³\n- [/è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/ä¼˜åŒ–ç¨‹åºæ€§èƒ½.md](/è®¡ç®—æœºç³»ç»Ÿ/ç¨‹åºç»“æ„å’Œæ‰§è¡Œ/ä¼˜åŒ–ç¨‹åºæ€§èƒ½.md) Cè¯­è¨€æ€§èƒ½ä¼˜åŒ–æ¶‰åŠç®—æ³•é€‰æ‹©ã€ç¨‹åºç»“æ„ã€ç¼–è¯‘å™¨åä½œå’Œä½“ç³»ç»“æ„é€‚é…ç­‰ï¼Œä¸ç¨‹åºæ€§èƒ½ä¼˜åŒ–ç†è®ºç›´æ¥ç›¸å…³\n- [/ç¼–ç¨‹è¯­è¨€/C++.md](/ç¼–ç¨‹è¯­è¨€/C++.md) C++åœ¨Cè¯­è¨€åŸºç¡€ä¸Šå¢åŠ äº†é¢å‘å¯¹è±¡ã€æ¨¡æ¿ã€æ™ºèƒ½æŒ‡é’ˆç­‰ç‰¹æ€§ï¼Œäº†è§£C++æœ‰åŠ©äºç†è§£Cè¯­è¨€çš„æ¼”è¿›å’Œè®¾è®¡å“²å­¦\n","metadata":"tags: ['ç¼–ç¨‹è¯­è¨€', 'æ€§èƒ½']","hasMoreCommit":false,"totalCommits":9,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2025-12-29T17:28:31+08:00","author":"MY","message":"docs(C): é‡æ„Cè¯­è¨€æ–‡æ¡£å†…å®¹ï¼Œèšç„¦æ ¸å¿ƒèƒ½åŠ›ä½“ç³»","hash":"374888130c2a7a1a876a9b610e1858e4bd3f6adf"},{"date":"2024-04-23T19:55:20+08:00","author":"MY","message":"âœC","hash":"eea88b9ed672a6731bd54fc3df955adf6af00720"},{"date":"2024-04-19T19:39:23+08:00","author":"MY","message":"âœC","hash":"3e9ed31a4c6569892778cc5784ced472a085f8c8"},{"date":"2024-04-18T19:57:58+08:00","author":"MY","message":"âœC","hash":"768831c0911695fdad43e9f2c7a309a84681ce36"},{"date":"2024-04-17T19:46:39+08:00","author":"MY","message":"âœC","hash":"3aaa22140b04b80f2b53fa1aa8a6808c52ba3367"},{"date":"2024-04-16T19:27:15+08:00","author":"MY","message":"âœC","hash":"99952a8ec19fca0df0f83df82488445c09f39e33"},{"date":"2023-03-13T16:51:56+08:00","author":"MY","message":"âœC","hash":"e3305aeec2c375e6b51acdc4c72f2009b936846d"},{"date":"2022-04-19T11:08:17+08:00","author":"cjiping","message":"ğŸ“¦æ•´ç† C","hash":"c06812ee91532ec1d6e2118561bf33985a5eb900"}],"createTime":"2022-04-19T11:08:17+08:00"}