{"name":"Erlang","id":"编程语言-Erlang","content":"# Erlang\n\n- 无线程\n- 轻量级线程\n- 热拔插\n\n## 起步\n\n```erlang\n% 注释\n2 + 2.0.\n\"str\".\n[1, 2, 3].\nVar = 1. % 定义变量\n```\n\n## 原子 列表 元组\n\n```erlang\nColor = red. % red是一个原子 赋值给Color\n[1,2,\"ds\"]. % 列表是异质变长的\n{1, 2 , \"3\"}. % 元组是变长的\n```\n\n## 模式匹配\n\n```erlang\n{X, Y} = {1, 2}.\n[One|Two = [1,2,3,4]. % Two 匹配剩下的那些\nAll = <<W:4, Z:4>>. % 位匹配\n<<A:4, B:4>> = All.\n```\n\n## 函数\n\n```erlang\n-module(basic).\n-export([mirror/1, number/1]).\n-export([sum/1]).\n\nmirror(Anything) -> Anything.\nnumber(one) -> 1. % 模式匹配\n\nsum(0) -> 0;\nsum(1) -> 1;\nsum(N) -> N + sum(N-1). % 递归\n```\n\n## 控制结构\n\n- case\n\n```erlang\nAnimal = \"dog\".\ncase Animal of\n  \"dog\" -> \"bark\";\n  \"cat\" -> \"mow\";\n  _ -> \"unknow\"\nend.\n```\n\n- if\n\n```erlang\nX = 0.\nif\n  X >=0 -> positive;\n  X <0 -> negative\nend.\n```\n\n## 匿名函数\n\n```erlang\nAdd = fun(A, B) -> A+B end.\nAdd(1,2).\n```\n\n## 列表与高阶函数\n\n```erlang\nNumbers = [1,2,3].\nlists:foreach(fun(I) -> io:format(\"~p~n\",[I]) end, Numbers). % 迭代\nlists:map(fun(I) -> I * I end, Numbers). % 映射\\\n\nlists:filter(fun(I) -> I > 1 end, Numbers).\nlists:all(fun(I) -> I > 1 end, Numbers).\nlists:any(fun(I) -> I > 1 end, Numbers).\n\nlists:foldl(fun(I,SUM) -> I + SUM end, 0, [1,2,3,4,5]). % reduce\n```\n\n## 并发\n\n- 基本的接收循环\n\n```erlang\n-module(translate).\n-export([loop/0]).\n\nloop() ->\n  receive % 接收消息\n    \"chinese\" ->\n      io:format(\"中文\"),\n      loop();\n    \"dog\" ->\n      io:format(\"狗\"),\n      loop();\n    _ ->\n      io:format(\"未知\"),\n      loop\nend.\n```\n\n- 使用\n\n```erlang\nPid = spawn(fun translate:loop/0). % 启动轻量级进程\nPid ! \"chinese\". % 发送消息\n```\n\n- 同步发送与接收\n\n```erlang\n-module(translate).\n-export([loop/0,translate/2]).\n\nloop() ->\n  receive\n    { Form, \"chinese\"} ->\n      Form ! \"ccc\",\n      loop();\n    { Form, \"dog\"} ->\n      Form ! \"ddd\",\n      loop();\n    { Form, _ } ->\n      Form ! \"uuu\", % 发送\n      loop\nend.\n\ntranslate(Pid, Word) ->\n  Pid ! {self(), Word}, % 同步发送\n  receive\n    Trans -> Trans\n  end.\n```\n\n```erl\ntranslate:translate(Pid, \"dog\").\n```\n\n## 核心优势\n\n- 可靠\n- 轻量 无共享的进程\n- OTP 企业级别的库\n- 随他崩溃\n\n## 不足\n\n- 语法\n- 继承于prolog\n","metadata":"","hasMoreCommit":false,"totalCommits":3,"commitList":[{"date":"2020-11-19T14:32:46+08:00","author":"MY","message":"✏更新 Erlang","hash":"601c7d469f6514d440c1e274965325b0dcffd677"},{"date":"2020-11-18T10:21:57+08:00","author":"MY","message":"✏更新 Erlang","hash":"5c5d057e765700195bb5c07a0b4b29f57f9a67ee"},{"date":"2020-11-16T10:53:04+08:00","author":"MY","message":"➕增加 Erlang","hash":"7c72a6e6f9c7d2c92af8c1d0cad1d63847fe6898"}],"createTime":"2020-11-16T10:53:04+08:00"}