{"name":"注解","id":"编程语言-JAVA-高级-注解","content":"# 注解\n\n- 编写文档：通过代码里标识的注解生成文档【生成文档doc文档】\n- 代码分析：通过代码里标识的注解对代码进行分析【使用反射】\n- 编译检查：通过代码里标识的注解让编译器能够实现基本的编译检查【Override】\n\n## JAVA提供的基本注解\n\n- **@Override**\n\n  - 限定重写父类方法。对于子类中被@Override 修饰的方法，如果存在对应的被重写的父类方法，则正确；如果不存在，则报错。@Override 只能作用于方法，不能作用于其他程序元素\n\n- **@Deprecated**\n\n  - 用于表示某个程序元素（类、方法等）已过时。如果使用了被@Deprecated修饰的类或方法等，编译器会发出警告，一般来说，加了@Deprecated的接口，必须在该接口的注释上加上替换的新接口并说明废弃原因，变更之后要进行单元测试，接口提供方既然明确是过时接口，那么有义务同时提供新的接口；作为调用方来说，有义务去考证过时方法的新实现是什么\n\n- **@SuppressWarnings**\n\n  - 抑制编译器警告\n\n- **@SafeVarargs**\n\n  - 是JDK 7 专门为抑制\"堆污染\"警告提供的\n\n    堆污染：简单的说就是当一个泛型类型变量赋值给不是泛型类型变量，这种错误在编译期间能被编译器警告，但是可以忽略，直到运行时报错\n\n- **@FunctionalIterface**\n\n  - @FunctionalInterface就是用来指定某个接口必须是函数式接口，否则就会编译出错\n\n## 自定义注解\n\n```java\n元注解\npublic @interface 注解名称{\n    属性列表;\n}\n```\n\n属性的返回值类型有下列取值:\n\n- 基本数据类型\n- String\n- 枚举\n- 注解\n- 以上类型的数组\n\n## 元注解\n\n> 用于注解的注解\n\n- @Target：描述注解能够作用的位置\n\n  - ElementType取值：\n\n    - TYPE：可以作用于类上\n    - METHOD：可以作用于方法上\n    - FIELD：可以作用于成员变量上\n    - ...\n\n- @Retention：描述注解被保留的阶段\n\n```java\npublic enum RetentionPolicy {\n    // 保留在源码级别上\n    SOURCE,\n\n    //保留在class文件中，jvm无法读取到\n    CLASS,\n\n    //会保留到class字节码文件中，并被JVM读取到\n    RUNTIME\n}\n```\n\n- @Documented：描述注解是否被抽取到api文档中\n- @Inherited：描述注解是否被子类继承\n  - 父类的注解将会传递到子类上\n- @Repeatable：描述是否能重复注解（JDK8之后新增的功能）\n  - 实现细节：通过一个注解容器\n\n## 注解的解析\n\n- RetentionPolicy.RUNTIME ：注解在class文件中，被JVM加载，可用反射解析注解\n- RetentionPolicy.CLASS:注解在class文件中，但JVM没有加载，只能采用字节码工具进行特殊处理\n- RetentionPolicy.SOURCE ：注解在java文件中，不在class文件中，也不会被JVM加载\n  - 只有在源码级别进行注解处理\n  - Java提供注解处理器来解析带注解的源码，产生新的文件\n\n## RUNTIME注解本质\n\n- 继承Annotation接口的一个接口\n- 实际使用中有一个代理对象实现了此接口\n- 代理对象使用AnnotationInvocationHandler处理方法调用\n- AnnotationInvocationHandler使用一个map存储属性\n\n## 应用\n\n- Servlet3.0\n- Junit\n- Spring & Spring boot\n- Lombok\n","metadata":"","hasMoreCommit":false,"totalCommits":8,"commitList":[{"date":"2022-06-09T21:51:44+08:00","author":"MY","message":"📦整理 Java","hash":"34c01b44e7566fa54773149765e3dd8420235279"},{"date":"2020-08-04T09:22:35+08:00","author":"MY","message":"✏更新 JAVA 注解","hash":"38c660533e0189f2c2e9934f24dcec1f713fe79b"},{"date":"2019-11-22T14:20:36+08:00","author":"MY","message":"新增注解应用及嵌套类入门","hash":"65669d8458ed4a8b5cb807319b5b6476ff31e67f"},{"date":"2019-11-20T14:08:52+08:00","author":"MY","message":"新增JAVA RUNTIME注解本质","hash":"9968c085910a8b064679129d93553f5c061622f0"},{"date":"2019-11-18T14:08:25+08:00","author":"MY","message":"新增JAVA注解解析说明","hash":"c51b59054c073f709d470384153af6aee06a7847"},{"date":"2019-11-17T16:43:44+08:00","author":"MY","message":"新增了eureka说明&JAVA元注解","hash":"6688ec40234a7bede187d983dfd6874e77765eb3"},{"date":"2019-11-15T14:02:18+08:00","author":"MY","message":"新增JAVA注解-基础","hash":"e6f8159d2ef7bb642673edd5591e511dafa313fc"},{"date":"2019-08-04T19:13:18+08:00","author":"My、","message":"20190804下午","hash":"42f2cd3a3e1d8b203764307a546a0cafe4c538ee"}],"createTime":"2019-08-04T19:13:18+08:00"}