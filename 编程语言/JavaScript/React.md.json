{"name":"React","id":"ç¼–ç¨‹è¯­è¨€-JavaScript-React","content":"# React\n\n## 0. React çš„ç¬¬ä¸€æ€§åŸç†ï¼ˆWhy React Existsï¼‰\n\n### 0.1 React è¦è§£å†³çš„æœ¬è´¨é—®é¢˜\n\n> **å¦‚ä½•åœ¨çŠ¶æ€ä¸æ–­å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç¨³å®šã€å¯é¢„æµ‹ã€é«˜æ€§èƒ½åœ°æè¿° UIï¼Ÿ**\n\nReact çš„æ ¸å¿ƒå‡è®¾ï¼š\n\n```text\nUI = f(state)\n```\n\n* UI æ˜¯çŠ¶æ€çš„çº¯å‡½æ•°\n* å¼€å‘è€…åªå…³å¿ƒâ€œçŠ¶æ€é•¿ä»€ä¹ˆæ ·â€\n* æ¡†æ¶è´Ÿè´£â€œå¦‚ä½•æ›´æ–° UIâ€\n\nğŸ‘‰ React çš„æœ¬è´¨ä¸æ˜¯ DOM åº“ï¼Œè€Œæ˜¯ä¸€ä¸ª **UI æè¿° + è°ƒåº¦ç³»ç»Ÿ**\n\n---\n\n### 0.2 React çš„ä¸‰å±‚ç¨³å®šæ¶æ„\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ è¡¨è¾¾å±‚ï¼ˆWhatï¼‰             â”‚ JSX / React Element\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ è®¡ç®—å±‚ï¼ˆHow to describeï¼‰  â”‚ Component / Hooks\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ è°ƒåº¦å±‚ï¼ˆWhen & How applyï¼‰ â”‚ Fiber / Reconciliation / Commit\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\nè¿™æ˜¯ç†è§£ React çš„**æ€»å¿ƒæ™ºæ¨¡å‹**ï¼Œåç»­æ‰€æœ‰æ¦‚å¿µéƒ½å¯ä»¥è½åœ¨è¿™ä¸‰å±‚ä¸­ã€‚\n\n---\n\n## 1. JSXï¼šUI æè¿°è¯­è¨€ï¼ˆè¡¨è¾¾å±‚ï¼‰\n\n### 1.1 JSX çš„æœ¬è´¨\n\n> JSX ä¸æ˜¯æ¨¡æ¿ï¼Œä¹Ÿä¸æ˜¯ HTML\n> **JSX æ˜¯ UI çš„ç»“æ„åŒ–æè¿°è¯­è¨€**\n\n```jsx\n<header className=\"App-header\">\n  <h1>main</h1>\n</header>\n```\n\nå…¶æœ¬è´¨ç­‰ä»·äºï¼š\n\n```js\nReact.createElement(type, props, children)\n```\n\næ— è®º React 17 å‰åçš„å®ç°å¦‚ä½•å˜åŒ–ï¼Œ**ä¸å˜çš„æ˜¯ï¼š**\n\n* JSX â†’ React Elementï¼ˆä¸å¯å˜å¯¹è±¡ï¼‰\n* Element = UI çš„â€œå¿«ç…§æè¿°â€ï¼Œä¸æ˜¯ç»„ä»¶å®ä¾‹\n\n---\n\n### 1.2 Element / Component / DOM çš„è¾¹ç•Œ\n\n| æ¦‚å¿µ            | æœ¬è´¨             |\n| ------------- | -------------- |\n| JSX           | è¯­æ³•ç³–            |\n| React Element | UI çš„ç»“æ„åŒ–æè¿°      |\n| Component     | ç”Ÿæˆ Element çš„å‡½æ•° |\n| DOM           | Element çš„ç‰©ç†æŠ•å½±  |\n\nğŸ‘‰ **React ä»ä¸â€œæ“ä½œ DOMâ€ï¼Œå®ƒåªæ¯”è¾ƒæè¿°**\n\n---\n\n### 1.3 JSX çš„å·¥ç¨‹çº¦æŸï¼ˆä¸ºä»€ä¹ˆä¼šè¸©å‘ï¼‰\n\n* `return` æ¢è¡Œé—®é¢˜ï¼š\n  ğŸ‘‰ JSX æœ¬è´¨ä»æ˜¯ JavaScript çš„è¡¨è¾¾å¼è¯­æ³•\n* ç»„ä»¶é¦–å­—æ¯å¤§å†™ï¼š\n  ğŸ‘‰ React ç”¨**ç±»å‹**åŒºåˆ† DOM Element ä¸ Component Element\n\n---\n\n## 2. æ¸²æŸ“ä¸åè°ƒï¼šæè¿°å¦‚ä½•å˜æˆç°å®ï¼ˆè°ƒåº¦å±‚ï¼‰\n\n## 2.1 ä¸¤æ£µæ ‘æ¨¡å‹\n\nReact å†…éƒ¨æ°¸è¿œåœ¨å¤„ç†ä¸¤æ£µæ ‘ï¼š\n\n```\næ—§ Element Tree\næ–° Element Tree\n```\n\n> React ä¸å…³å¿ƒâ€œä½ æ”¹äº†ä»€ä¹ˆâ€ï¼Œ\n> **å®ƒåªæ¯”è¾ƒâ€œä½ ç°åœ¨æƒ³è¦ä»€ä¹ˆâ€**\n\n---\n\n## 2.2 Reconciliation çš„è®¾è®¡å“²å­¦\n\nReact Diff çš„æ ¸å¿ƒä¸æ˜¯â€œæœ€ä¼˜â€ï¼Œè€Œæ˜¯ï¼š\n\n> **åœ¨ O(n) æ—¶é—´å†…ï¼Œå¾—åˆ°è¶³å¤Ÿå¥½çš„æ›´æ–°ç»“æœ**\n\n### ä¸‰æ¡ç¨³å®šåŸåˆ™\n\n1. **ç±»å‹å†³å®šå‘½è¿**\n\n   * ä¸åŒç±»å‹ â†’ æ•´æ£µå­æ ‘é‡å»º\n2. **Key å†³å®šèº«ä»½**\n\n   * Key æ˜¯å…ƒç´ çš„â€œç¤¾ä¼šèº«ä»½â€ï¼Œä¸æ˜¯ç´¢å¼•\n3. **é¡ºåºå‡è®¾**\n\n   * é»˜è®¤å‡è®¾åˆ—è¡¨æ˜¯é¡ºåºç¨³å®šçš„\n\nğŸ‘‰ è¿™æ˜¯**å·¥ç¨‹å–èˆ**ï¼Œä¸æ˜¯ç®—æ³•ç¼ºé™·ã€‚\n\n---\n\n## 3. Fiberï¼šä¸ºä»€ä¹ˆ React å¯ä»¥ä¸­æ–­æ¸²æŸ“\n\n### 3.1 Fiber çš„æœ¬è´¨\n\n> Fiber = **å¯ä¸­æ–­çš„å·¥ä½œå•å…ƒï¼ˆWork Unitï¼‰**\n\n* æ¯ä¸ª FiberNode = ä¸€ä¸ªç»„ä»¶æˆ–å…ƒç´ \n* Fiber æ„æˆä¸€æ£µå¯éå†ã€å¯æš‚åœçš„é“¾è¡¨ç»“æ„\n\n---\n\n### 3.2 Render Phase vs Commit Phase\n\n| é˜¶æ®µ           | ç‰¹æ€§        | çº¦æŸ    |\n| ------------ | --------- | ----- |\n| Render Phase | å¯ä¸­æ–­ / å¯é‡åš | å¿…é¡»çº¯å‡½æ•° |\n| Commit Phase | åŒæ­¥ / ä¸å¯ä¸­æ–­ | å…è®¸å‰¯ä½œç”¨ |\n\nğŸ‘‰ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼š\n\n* render / å‡½æ•°ç»„ä»¶ **ä¸èƒ½æœ‰å‰¯ä½œç”¨**\n* effect è¢«å»¶è¿Ÿæ‰§è¡Œ\n\n---\n\n## 4. ç»„ä»¶æ¨¡å‹ï¼šæè¿° UI çš„è®¡ç®—å•å…ƒï¼ˆè®¡ç®—å±‚ï¼‰\n\n## 4.1 ç»„ä»¶çš„æœ¬è´¨\n\n> Component = `(props, state, context) â†’ Element`\n\n* ç±»ç»„ä»¶ï¼šçŠ¶æ€æŒ‚åœ¨å®ä¾‹ä¸Š\n* å‡½æ•°ç»„ä»¶ï¼šçŠ¶æ€ç”± Hooks å¤–æŒ‚ç®¡ç†\n\n---\n\n## 4.2 æ•°æ®æµçš„ç¬¬ä¸€æ€§åŸåˆ™\n\n### å•å‘æ•°æ®æµä¸æ˜¯é™åˆ¶ï¼Œè€Œæ˜¯æ²»ç†æ‰‹æ®µ\n\n```\nState â†’ Props â†’ Child\n           â†‘\n        Callback\n```\n\n* ä¿è¯å› æœå…³ç³»æ¸…æ™°\n* ä¿è¯æ›´æ–°è·¯å¾„å¯è¿½è¸ª\n* ä¸ºè°ƒè¯•ã€å¹¶å‘ã€å›æ”¾æ‰“åŸºç¡€\n\n---\n\n## 5. ç”Ÿå‘½å‘¨æœŸï¼šä»â€œè¿‡ç¨‹ APIâ€åˆ°â€œé˜¶æ®µæ¨¡å‹â€\n\n### 5.1 ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„çœŸå®ä»·å€¼\n\nç”Ÿå‘½å‘¨æœŸä¸æ˜¯ä¸ºäº†â€œç”¨â€ï¼Œè€Œæ˜¯ä¸ºäº†**åˆ’åˆ†é˜¶æ®µ**ï¼š\n\n| é˜¶æ®µ         | æœ¬è´¨      |\n| ---------- | ------- |\n| Render     | æè¿° UI   |\n| Pre-Commit | è¯»å–æ—§ DOM |\n| Commit     | åº”ç”¨å˜æ›´    |\n| Cleanup    | é‡Šæ”¾èµ„æº    |\n\nğŸ‘‰ Hooks æœ¬è´¨ä¸Šæ˜¯**å¯¹ç”Ÿå‘½å‘¨æœŸçš„å‡½æ•°åŒ–é‡æ„**\n\n---\n\n## 6. Hooksï¼šå‡½æ•°ç»„ä»¶çš„çŠ¶æ€ä¸å‰¯ä½œç”¨ç³»ç»Ÿ\n\n## 6.1 Hooks çš„ç¬¬ä¸€æ€§åŸç†\n\n> Hooks = **åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸º Fiber ç»‘å®šçŠ¶æ€å•å…ƒ**\n\nå…³é”®çº¦æŸæ¥æºï¼š\n\n* Hooks ä»¥**é“¾è¡¨**å½¢å¼æŒ‚åœ¨ FiberNode ä¸Š\n* é¡ºåºå³èº«ä»½\n\nğŸ‘‰ æ‰€æœ‰ Hooks è§„åˆ™éƒ½æ¥è‡ªè¿™ä¸€äº‹å®\n\n---\n\n## 6.2 çŠ¶æ€ Hooks çš„åˆ†å·¥æ¨¡å‹\n\n| Hook       | è§£å†³çš„é—®é¢˜     |\n| ---------- | --------- |\n| useState   | å±€éƒ¨çŠ¶æ€      |\n| useReducer | å¤æ‚çŠ¶æ€æœº     |\n| useRef     | è„±ç¦»æ¸²æŸ“çš„å¯å˜å®¹å™¨ |\n\n---\n\n## 6.3 å‰¯ä½œç”¨ Hooks çš„æ—¶é—´è¯­ä¹‰\n\n| Hook            | æ‰§è¡Œæ—¶æœº      | ç”¨é€”      |\n| --------------- | --------- | ------- |\n| useLayoutEffect | DOM æ›´æ–°ååŒæ­¥ | å¸ƒå±€æµ‹é‡    |\n| useEffect       | æäº¤åå¼‚æ­¥     | IO / è®¢é˜… |\n\nğŸ‘‰ Effect çš„å­˜åœ¨ï¼Œæ˜¯ä¸ºäº†**ä¿æŠ¤ Render Phase çš„çº¯åº¦**\n\n---\n\n## 6.4 useMemo / useCallback çš„æœ¬è´¨\n\n> React æ€§èƒ½é—®é¢˜ â‰  è®¡ç®—æ…¢\n> **è€Œæ˜¯â€œå¼•ç”¨ä¸ç¨³å®šâ€**\n\n* useMemoï¼šç¼“å­˜â€œå€¼â€\n* useCallbackï¼šç¼“å­˜â€œå¼•ç”¨â€\n\nå®ƒä»¬ä¸æ˜¯ä¼˜åŒ–å·¥å…·ï¼Œè€Œæ˜¯**ç¨³å®šæ€§å·¥å…·**\n\n---\n\n## 7. ç»„ä»¶å¤ç”¨ä¸æ‰©å±•æœºåˆ¶\n\n### 7.1 React.memoï¼šæ¸²æŸ“çš„å¹‚ç­‰æ€§ä¿è¯\n\n> memo = å£°æ˜å¼çš„ shouldComponentUpdate\n\nå‰æï¼š\n\n* ç»„ä»¶å¿…é¡»æ˜¯**çº¯å‡½æ•°**\n* å‰¯ä½œç”¨å¿…é¡»å¤–ç½®\n\n---\n\n### 7.2 é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰\n\næœ¬è´¨æ¨¡å¼ï¼š**è£…é¥°å™¨**\n\n* æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆæ—¥å¿—ã€æƒé™ã€æ³¨å…¥ï¼‰\n* ä¸ Hooks çš„ä¸»è¦åŒºåˆ«ï¼š\n\n  * HOC æ˜¯ç»“æ„çº§\n  * Hooks æ˜¯é€»è¾‘çº§\n\n---\n\n## 8. äº‹ä»¶ç³»ç»Ÿï¼šä¸€è‡´æ€§ä¼˜å…ˆäºåŸç”Ÿè¡Œä¸º\n\n> React åˆæˆäº‹ä»¶çš„ç›®æ ‡ä¸æ˜¯â€œæ›´å¿«â€ï¼Œ\n> è€Œæ˜¯ **è·¨æµè§ˆå™¨ä¸€è‡´æ€§ + å¯æ§ä¼ æ’­æ¨¡å‹**\n\n---\n\n## 9. åº”ç”¨çŠ¶æ€ç®¡ç†ï¼šä½•æ—¶éœ€è¦ Reduxï¼Ÿ\n\n## 9.1 çŠ¶æ€çš„åˆ†å±‚æ²»ç†æ¨¡å‹\n\n| çŠ¶æ€å±‚çº§ | å·¥å…·       |\n| ---- | -------- |\n| ç»„ä»¶ç§æœ‰ | useState |\n| ç»„ä»¶åä½œ | Props    |\n| è·¨å±‚å…±äº« | Context  |\n| å…¨å±€ä¸šåŠ¡ | Redux    |\n\nğŸ‘‰ Redux çš„æ ¸å¿ƒä»·å€¼ä¸æ˜¯â€œå­˜çŠ¶æ€â€ï¼Œè€Œæ˜¯ï¼š\n\n* å¯é¢„æµ‹\n* å¯å›æº¯\n* å¯è§‚æµ‹\n\n---\n\n## 10. React çš„é•¿æœŸæ¼”è¿›æ–¹å‘ï¼ˆç¨³å®šè®¤çŸ¥ï¼‰\n\n### ä¸å˜çš„éƒ¨åˆ†\n\n* UI = f(state)\n* å•å‘æ•°æ®æµ\n* æè¿°ä¼˜å…ˆäºå‘½ä»¤\n\n### æ¼”è¿›çš„éƒ¨åˆ†\n\n* Class â†’ Function\n* Sync â†’ Concurrent\n* Client â†’ Server Components\n\n---\n\n## 11. æ€»ç»“ï¼šReact çš„å·¥ç¨‹å“²å­¦\n\n> React æ˜¯ä¸€å¥—ï¼š\n>\n> * ç”¨**å‡½æ•°æè¿° UI**\n> * ç”¨**è°ƒåº¦ç®¡ç†å¤æ‚åº¦**\n> * ç”¨**çº¦æŸæ¢å–å¯ç»´æŠ¤æ€§**\n>   çš„ç³»ç»Ÿ\n\n## å…³è”å†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰\n\n- [/ç¼–ç¨‹è¯­è¨€/JavaScript/Vue.md](/ç¼–ç¨‹è¯­è¨€/JavaScript/Vue.md) ä½œä¸ºç°ä»£å‰ç«¯æ¡†æ¶çš„ä»£è¡¨ï¼ŒVue ä¸ React åœ¨ã€Œå£°æ˜å¼ã€ã€Œå“åº”å¼ã€ã€Œç»„ä»¶åŒ–ã€æ–¹é¢æœ‰ç€ç›¸ä¼¼çš„ç†å¿µï¼Œå¯¹æ¯”å­¦ä¹ æœ‰åŠ©äºæ·±å…¥ç†è§£å‰ç«¯æ¡†æ¶çš„æœ¬è´¨\n- [/ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.md](/ç¼–ç¨‹è¯­è¨€/JavaScript/JavaScript.md) React çš„å®ç°åŸºç¡€æ˜¯ JavaScriptï¼Œç†è§£ JavaScript çš„å€¼æ¨¡å‹ã€ç±»å‹ç³»ç»Ÿå’Œè¯­è¨€ç‰¹æ€§å¯¹äºæŒæ¡ React çš„å·¥ä½œæœºåˆ¶è‡³å…³é‡è¦\n- [/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.md](/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/Webå‰ç«¯.md) React æ˜¯ç°ä»£ Web å‰ç«¯å¼€å‘çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œäº†è§£æ•´ä¸ªå‰ç«¯ç”Ÿæ€ç³»ç»Ÿæœ‰åŠ©äºç†è§£ React çš„å®šä½å’Œä½œç”¨\n- [/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰ç«¯å·¥ç¨‹åŒ–.md](/è½¯ä»¶å·¥ç¨‹/æ¶æ„/Webå‰ç«¯/å‰ç«¯å·¥ç¨‹åŒ–.md) React é¡¹ç›®çš„æˆåŠŸå®æ–½ç¦»ä¸å¼€å‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»çš„æ”¯æŒï¼ŒåŒ…æ‹¬æ„å»ºã€éƒ¨ç½²ã€æµ‹è¯•ç­‰ç¯èŠ‚\n- [/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹èŒƒå¼/å‡½æ•°å¼ç¼–ç¨‹.md](/ç¼–ç¨‹è¯­è¨€/ç¼–ç¨‹èŒƒå¼/å‡½æ•°å¼ç¼–ç¨‹.md) React çš„è®¾è®¡ç†å¿µæ·±å—å‡½æ•°å¼ç¼–ç¨‹å½±å“ï¼Œç‰¹åˆ«æ˜¯ä¸å¯å˜æ•°æ®å’Œçº¯å‡½æ•°çš„æ¦‚å¿µåœ¨ Hooks å’Œç»„ä»¶è®¾è®¡ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨\n","metadata":"tags: ['å‰ç«¯', 'ç¼–ç¨‹è¯­è¨€', 'ç»„ä»¶åŒ–']","hasMoreCommit":false,"totalCommits":6,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2025-12-30T15:04:34+08:00","author":"MY","message":"docs(React): é‡æ„Reactå­¦ä¹ æ–‡æ¡£æ·»åŠ ç¬¬ä¸€æ€§åŸç†å’Œæ¶æ„è§£æ","hash":"388ce35e08ff3b379d62c09666e73b577c01bfc3"},{"date":"2024-07-30T20:12:00+08:00","author":"MY","message":"âœReact","hash":"46af96abb60cd848b6d16f48b87941f956bc9360"},{"date":"2024-07-24T19:38:29+08:00","author":"MY","message":"âœReact","hash":"74a47834d1d247c36f08f50d35eded1084393b1d"},{"date":"2024-07-23T19:43:44+08:00","author":"MY","message":"âœReact","hash":"789f80c0f40246b61f7b4eb724f8283b8493d225"},{"date":"2024-07-22T20:12:51+08:00","author":"MY","message":"âœReact","hash":"59bdf8c85ded6fc745e46a158e9973090ac28b8c"}],"createTime":"2024-07-22T20:12:51+08:00"}