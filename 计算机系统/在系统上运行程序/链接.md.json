{"name":"é“¾æ¥","id":"è®¡ç®—æœºç³»ç»Ÿ-åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº-é“¾æ¥","content":"# é“¾æ¥\n\n## ä¸€ã€é“¾æ¥çš„ç¬¬ä¸€æ€§åŸç†ï¼ˆæ€»çº²ï¼‰\n\n### 1.1 ä¸€ä¸ªæ ¹æœ¬é—®é¢˜\n\n> **CPU åªç†è§£åœ°å€ï¼Œä¸ç†è§£åå­—ã€‚**\n\nè€Œäººç±»ç¨‹åºå‘˜ç¼–å†™ç¨‹åºæ—¶ï¼Œåªèƒ½ä½¿ç”¨ï¼š\n\n* å‡½æ•°å\n* å˜é‡å\n* æ¨¡å—å\n\n**é“¾æ¥çš„æœ¬è´¨ä»»åŠ¡**ï¼Œå°±æ˜¯åœ¨è¿™ä¸¤ç§ä¸–ç•Œä¹‹é—´å»ºç«‹ä¸€ä¸ªä¸€è‡´ã€å¯ç»´æŠ¤ã€å¯æ¼”è¿›çš„æ˜ å°„ä½“ç³»ã€‚\n\n### 1.2 é“¾æ¥çš„æœ¬è´¨æŠ½è±¡\n\n> **é“¾æ¥ = ç¬¦å·ç©ºé—´ â†’ åœ°å€ç©ºé—´ â†’ è¿è¡Œæ—¶å†…å­˜ç©ºé—´ çš„æ˜ å°„ä¸ä¸€è‡´æ€§ç»´æŠ¤**\n\né“¾æ¥å™¨å§‹ç»ˆå›´ç»•ä¸‰ä»¶äº‹å·¥ä½œï¼š\n\n| æ ¸å¿ƒèŒè´£ | æŠ½è±¡å«ä¹‰          |\n| ---- | ------------- |\n| ç¬¦å·è§£æ | â€œè¿™ä¸ªåå­—æŒ‡å‘è°ï¼Ÿâ€    |\n| åœ°å€åˆ†é… | â€œå®ƒæœ€ç»ˆæ”¾åœ¨å“ªé‡Œï¼Ÿâ€    |\n| é‡å®šä½  | â€œæ‰€æœ‰å¼•ç”¨å¦‚ä½•åŒæ­¥æ›´æ–°ï¼Ÿâ€ |\n\nåæ–‡ä¸­å‡ºç°çš„ ELFã€GOTã€PLTã€PICã€å»¶è¿Ÿç»‘å®šï¼Œ\n**éƒ½åªæ˜¯è¿™ä¸‰ä»¶äº‹åœ¨ä¸åŒçº¦æŸæ¡ä»¶ä¸‹çš„å®ç°ç­–ç•¥**ã€‚\n\n---\n\n## äºŒã€ä»ç¨‹åºæ–‡æœ¬åˆ°å¯æ‰§è¡Œä½“ï¼šå…¨å±€è§†è§’\n\n### 2.1 ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„ç¨³å®šåˆ†å±‚\n\nä»ç³»ç»Ÿè§†è§’çœ‹ï¼Œä¸€ä¸ª C ç¨‹åºä¼šç»å†ä»¥ä¸‹**ç¨³å®šé˜¶æ®µ**ï¼š\n\n1. **æ–‡æœ¬é˜¶æ®µ**ï¼šæºä»£ç ï¼ˆäººç±»å¯è¯»ï¼‰\n2. **ä¸­é—´è¡¨ç¤ºé˜¶æ®µ**ï¼šæ±‡ç¼–ï¼ˆæ¶æ„ç›¸å…³ï¼‰\n3. **ç›®æ ‡æ–‡ä»¶é˜¶æ®µ**ï¼šå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ï¼ˆå±€éƒ¨ä¸€è‡´æ€§ï¼‰\n4. **é“¾æ¥é˜¶æ®µ**ï¼šå…¨å±€ä¸€è‡´æ€§å»ºç«‹\n5. **åŠ è½½é˜¶æ®µ**ï¼šåœ°å€ç©ºé—´å®ä¾‹åŒ–\n6. **æ‰§è¡Œé˜¶æ®µ**ï¼šCPU æŒ‰åœ°å€å–æŒ‡\n\n> **é“¾æ¥å™¨å­˜åœ¨çš„æ ¹æœ¬åŸå› **ï¼š\n> ç¼–è¯‘å™¨åªèƒ½ä¿è¯â€œå•ä¸ªç¼–è¯‘å•å…ƒå†…â€çš„æ­£ç¡®æ€§ï¼Œ\n> è€Œç³»ç»Ÿéœ€è¦çš„æ˜¯â€œæ•´ä¸ªç¨‹åºâ€çš„ä¸€è‡´æ€§ã€‚\n\n---\n\n## ä¸‰ã€é“¾æ¥å™¨çš„æ ¸å¿ƒå·¥ä½œæ¨¡å‹\n\n### 3.1 ä¸¤éæ‰«ææ¨¡å‹ï¼ˆç¨³å®šæŠ½è±¡ï¼‰\n\næ— è®ºæ˜¯é™æ€é“¾æ¥è¿˜æ˜¯åŠ¨æ€é“¾æ¥ï¼Œé“¾æ¥å™¨éƒ½éµå¾ªä¸€ä¸ªé«˜åº¦ç¨³å®šçš„æ¨¡å‹ï¼š\n\n#### ç¬¬ä¸€éï¼šæ”¶é›†ä¿¡æ¯ï¼ˆå»ºç«‹å…¨å±€è§†å›¾ï¼‰\n\n* æ‰«ææ‰€æœ‰è¾“å…¥ç›®æ ‡æ–‡ä»¶\n* åˆå¹¶ç›¸åŒç±»å‹çš„æ®µï¼ˆSectionï¼‰\n* æ”¶é›†ç¬¦å·å®šä¹‰ä¸ç¬¦å·å¼•ç”¨\n* æ„å»º**å…¨å±€ç¬¦å·è¡¨**\n* ä¸ºæ¯ä¸ªç¬¦å·åˆ†é…è™šæ‹Ÿåœ°å€\n\n#### ç¬¬äºŒéï¼šä¿®æ­£å¼•ç”¨ï¼ˆç»´æŒä¸€è‡´æ€§ï¼‰\n\n* éå†æ‰€æœ‰ç¬¦å·å¼•ç”¨ç‚¹\n* æ ¹æ®ç¬¦å·è¡¨è¿›è¡Œåœ°å€æ›¿æ¢\n* å®Œæˆé‡å®šä½\n\n> **ä¸€å¥è¯æ€»ç»“**ï¼š\n> ç¬¬ä¸€éâ€œå†³å®šä¸–ç•Œé•¿ä»€ä¹ˆæ ·â€ï¼Œç¬¬äºŒéâ€œè®©æ‰€æœ‰äººè¾¾æˆå…±è¯†â€ã€‚\n\n---\n\n## å››ã€ç›®æ ‡æ–‡ä»¶ï¼šé“¾æ¥å™¨çš„å·¥ä½œå¯¹è±¡\n\n### 4.1 ç›®æ ‡æ–‡ä»¶çš„ä¸‰ç§ç¨³å®šå½¢æ€\n\n| ç±»å‹            | æŠ½è±¡è§’è‰²  |\n| ------------- | ----- |\n| å¯é‡å®šä½ç›®æ ‡æ–‡ä»¶ (.o) | å±€éƒ¨ä¸–ç•Œ  |\n| å¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶       | å®Œæ•´ä¸–ç•Œ  |\n| å…±äº«ç›®æ ‡æ–‡ä»¶ (.so)  | å¯å¤ç”¨ä¸–ç•Œ |\n\n### 4.2 Section ä¸ Segment çš„æŠ½è±¡åˆ†å·¥\n\n* **Sectionï¼ˆèŠ‚ï¼‰**ï¼š\n\n  * é¢å‘é“¾æ¥å™¨\n  * é€»è¾‘ç»„ç»‡å•ä½ï¼ˆ.text / .data / .bssï¼‰\n\n* **Segmentï¼ˆæ®µï¼‰**ï¼š\n\n  * é¢å‘åŠ è½½å™¨\n  * è¿è¡Œæ—¶å†…å­˜æ˜ å°„å•ä½\n\n> **åŒä¸€ä¸ª ELF æ–‡ä»¶ï¼ŒåŒæ—¶æœåŠ¡äºä¸¤ä¸ªè§†è§’**ï¼š\n>\n> * é“¾æ¥è§†è§’ï¼ˆSectionï¼‰\n> * æ‰§è¡Œè§†è§’ï¼ˆSegmentï¼‰\n\n---\n\n## äº”ã€ç¬¦å·ï¼šåå­—å¦‚ä½•å˜æˆåœ°å€\n\n### 5.1 ç¬¦å·çš„ç¨³å®šåˆ†ç±»\n\n* å…¨å±€ç¬¦å·ï¼šè·¨æ–‡ä»¶å¯è§\n* å¤–éƒ¨ç¬¦å·ï¼šå¼•ç”¨ä½†æœªå®šä¹‰\n* å±€éƒ¨ç¬¦å·ï¼šæ–‡ä»¶å†…éƒ¨ä½¿ç”¨\n\n### 5.2 ç¬¦å·è§£æçš„æ ¸å¿ƒè§„åˆ™\n\n* å¼ºç¬¦å·ä¸èƒ½é‡å\n* å¼ºç¬¦å·ä¼˜å…ˆäºå¼±ç¬¦å·\n* å¤šä¸ªå¼±ç¬¦å·å…è®¸å­˜åœ¨\n\n> **æœ¬è´¨ç›®æ ‡**ï¼šåœ¨å­˜åœ¨æ­§ä¹‰æ—¶ï¼Œç»´æŒç³»ç»Ÿçš„ç¡®å®šæ€§ã€‚\n\n---\n\n## å…­ã€é‡å®šä½ï¼šä¸€è‡´æ€§å¦‚ä½•è¢«ç»´æŠ¤\n\n### 6.1 ä¸ºä»€ä¹ˆéœ€è¦é‡å®šä½\n\nç¼–è¯‘é˜¶æ®µï¼š\n\n* ç¼–è¯‘å™¨ä¸çŸ¥é“æœ€ç»ˆåœ°å€\n* æ‰€æœ‰è·¨æ–‡ä»¶å¼•ç”¨åªèƒ½â€œå ä½â€\n\né“¾æ¥é˜¶æ®µï¼š\n\n* é“¾æ¥å™¨ç¡®å®šæœ€ç»ˆå¸ƒå±€\n* å¿…é¡»åŒæ­¥ä¿®æ­£æ‰€æœ‰å¼•ç”¨\n\n### 6.2 é‡å®šä½çš„æŠ½è±¡å…¬å¼\n\n> **æœ€ç»ˆåœ°å€ = ç¬¦å·åœ°å€ + ä¿®æ­£é‡ âˆ’ å¼•ç”¨ä½ç½®**\n\nè¿™ä¸€å®šä¹‰ä¸å…·ä½“æ¶æ„æ— å…³ï¼Œæ˜¯ä¸€ç§**åœ°å€ä¸€è‡´æ€§çº¦æŸ**ã€‚\n\n---\n\n## ä¸ƒã€é™æ€é“¾æ¥ï¼šä¸€æ¬¡æ€§è§£å†³é—®é¢˜\n\n### 7.1 å®šä¹‰\n\n> **é™æ€é“¾æ¥**ï¼šåœ¨ç¨‹åºç”Ÿæˆæ—¶ï¼Œå®Œæˆæ‰€æœ‰ç¬¦å·è§£æä¸é‡å®šä½ã€‚\n\n### 7.2 ç‰¹ç‚¹ï¼ˆç³»ç»Ÿè§†è§’ï¼‰\n\n* å¯åŠ¨å¿«\n* ç‹¬ç«‹å®Œæ•´\n* å†…å­˜æ— æ³•å…±äº«\n* å‡çº§ä¸å®‰å…¨æˆæœ¬é«˜\n\n> é™æ€é“¾æ¥è¿½æ±‚çš„æ˜¯**ç¡®å®šæ€§ä¸å°é—­æ€§**ã€‚\n\n---\n\n## å…«ã€åŠ¨æ€é“¾æ¥ï¼šå°†é—®é¢˜æ¨è¿Ÿ\n\n### 8.1 åŠ¨æ€é“¾æ¥çš„æ ¸å¿ƒæ€æƒ³\n\n> **ä¸æ˜¯ä¸é“¾æ¥ï¼Œè€Œæ˜¯â€œæ™šä¸€ç‚¹å†é“¾æ¥â€ã€‚**\n\né“¾æ¥è¢«æ‹†åˆ†ä¸ºï¼š\n\n* ç¼–è¯‘æœŸï¼šè®°å½•â€œä¾èµ–å…³ç³»â€\n* åŠ è½½æœŸ / è¿è¡ŒæœŸï¼šå®Œæˆæœ€ç»ˆç»‘å®š\n\n### 8.2 åŠ¨æ€é“¾æ¥æˆç«‹çš„å‰æ\n\n* è™šæ‹Ÿå†…å­˜\n* åœ°å€ç©ºé—´éš”ç¦»\n* å…±äº«ä»£ç æ®µ\n\n---\n\n## ä¹ã€PIC / GOT / PLTï¼šä¸ºä¸ç¡®å®šæ€§è€Œç”Ÿ\n\n### 9.1 ä¸ç¡®å®šæ€§çš„æ¥æº\n\n* å…±äº«åº“åŠ è½½åœ°å€ä¸å›ºå®š\n* ä¸åŒè¿›ç¨‹è™šæ‹Ÿåœ°å€ä¸åŒ\n* ASLR å¼•å…¥éšæœºæ€§\n\n### 9.2 ä½ç½®æ— å…³ä»£ç ï¼ˆPICï¼‰\n\n> **å¯ä»¥åœ¨ä»»æ„åœ°å€æ‰§è¡Œè€Œæ— éœ€ä¿®æ”¹çš„ä»£ç ã€‚**\n\næ ¸å¿ƒç­–ç•¥ï¼š\n\n* å†…éƒ¨å¼•ç”¨ï¼šç›¸å¯¹åç§»\n* å¤–éƒ¨å¼•ç”¨ï¼šé—´æ¥å¯»å€\n\n### 9.3 GOT ä¸ PLT çš„åˆ†å·¥\n\n| æœºåˆ¶  | æŠ½è±¡è§’è‰²     |\n| --- | -------- |\n| GOT | åœ°å€è¡¨ï¼ˆæ•°æ®ï¼‰  |\n| PLT | è·³è½¬å…¥å£ï¼ˆæ§åˆ¶ï¼‰ |\n\n---\n\n## åã€å»¶è¿Ÿç»‘å®šï¼šæ€§èƒ½ä¸çµæ´»æ€§çš„æƒè¡¡\n\n### 10.1 åŠ¨æœº\n\n* é¿å…å¯åŠ¨æ—¶è§£æå…¨éƒ¨ç¬¦å·\n* é™ä½å†·å¯åŠ¨æˆæœ¬\n\n### 10.2 æœ¬è´¨æœºåˆ¶\n\n> **ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶è§£æï¼Œä¹‹åç›´æ¥ä½¿ç”¨ç»“æœã€‚**\n\né€šè¿‡è¿è¡Œæ—¶ä¿®æ”¹ GOT å®ç°ã€‚\n\n---\n\n## åä¸€ã€åŠ è½½ä¸è¿è¡Œï¼šé“¾æ¥çš„ç»ˆç‚¹\n\n### 11.1 åŠ è½½å™¨çš„èŒè´£\n\n* åˆ›å»ºè¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´\n* æ˜ å°„å¯æ‰§è¡Œæ–‡ä»¶ä¸å…±äº«åº“\n* å¯åŠ¨åŠ¨æ€é“¾æ¥å™¨\n\n### 11.2 æœ€ç»ˆçŠ¶æ€\n\n> åœ¨ CPU çœ‹æ¥ï¼š\n> ä¸€åˆ‡éƒ½æ˜¯**å·²ç»è§£æå¥½çš„å†…å­˜åœ°å€**ã€‚\n\n---\n\n## åäºŒã€ç³»ç»Ÿçº§æ€»ç»“ï¼ˆç¨³å®šè®¤çŸ¥ï¼‰\n\n1. é“¾æ¥æ˜¯ç¼–è¯‘ç³»ç»Ÿä¸­**æœ€åä¸€ä¸ªå…¨å±€è§†è§’é˜¶æ®µ**\n2. ç¬¦å·è§£æã€åœ°å€åˆ†é…ã€é‡å®šä½æ˜¯æ°¸æ’ä¸‰è¦ç´ \n3. ELF åŒæ—¶æœåŠ¡é“¾æ¥è§†è§’ä¸æ‰§è¡Œè§†è§’\n4. åŠ¨æ€é“¾æ¥æœ¬è´¨æ˜¯\"æ¨è¿Ÿä¸€è‡´æ€§å»ºç«‹\"\n5. PIC æ˜¯åŠ¨æ€é“¾æ¥ä¸ ASLR çš„åŸºç¡€\n6. è™šæ‹Ÿå†…å­˜æ˜¯ç°ä»£é“¾æ¥æœºåˆ¶çš„æ ¹åŸº\n7. æ‰€æœ‰å¤æ‚æ€§ï¼Œéƒ½æ˜¯ä¸ºäº†åœ¨ä¸ç¡®å®šæ€§ä¸­ç»´æŒç§©åº\n\n## å…³è”å†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰\n\n- [/è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/å¼‚å¸¸æ§åˆ¶æµ.md](/è®¡ç®—æœºç³»ç»Ÿ/åœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº/å¼‚å¸¸æ§åˆ¶æµ.md) é“¾æ¥è¿‡ç¨‹ä¸å¼‚å¸¸æ§åˆ¶æµåœ¨ç³»ç»Ÿçº§æ‰§è¡Œæ¨¡å‹ä¸­å¯†åˆ‡ç›¸å…³ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†åŠ¨æ€é“¾æ¥å’Œè¿è¡Œæ—¶ç¬¦å·è§£ææ—¶æ¶‰åŠå¼‚å¸¸å¤„ç†æœºåˆ¶\n- [/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md](/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md) å†…å­˜ç®¡ç†ä¸é“¾æ¥è¿‡ç¨‹å¯†åˆ‡ç›¸å…³ï¼Œç‰¹åˆ«æ˜¯é‡å®šä½å’Œè™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µï¼Œæ˜¯ç†è§£é“¾æ¥æœºåˆ¶çš„é‡è¦åŸºç¡€\n- [/ç¼–ç¨‹è¯­è¨€/C.md](/ç¼–ç¨‹è¯­è¨€/C.md) Cè¯­è¨€çš„ç¼–è¯‘å’Œé“¾æ¥è¿‡ç¨‹æ˜¯ç†è§£é“¾æ¥æœºåˆ¶çš„é‡è¦å®è·µåŸºç¡€ï¼Œå…¶ä¸­è¯¦ç»†ä»‹ç»äº†é“¾æ¥ç›¸å…³çš„æ¦‚å¿µ\n- [/ç¼–ç¨‹è¯­è¨€/C++.md](/ç¼–ç¨‹è¯­è¨€/C++.md) C++çš„é“¾æ¥ç‰¹æ€§ï¼ˆå¦‚ç¬¦å·è§£æï¼‰æ¯”Cè¯­è¨€æ›´å¤æ‚ï¼Œæ˜¯æ·±å…¥ç†è§£é“¾æ¥æœºåˆ¶çš„é‡è¦å‚è€ƒ\n- [/æ“ä½œç³»ç»Ÿ/linux/å†…æ ¸.md](/æ“ä½œç³»ç»Ÿ/linux/å†…æ ¸.md) Linuxå†…æ ¸æ”¯æŒé“¾æ¥ä¸å…±äº«ï¼Œäº†è§£å†…æ ¸å±‚é¢çš„å®ç°æœ‰åŠ©äºç†è§£é“¾æ¥æœºåˆ¶\n- [/æ“ä½œç³»ç»Ÿ/linux/Linuxæ€§èƒ½ä¼˜åŒ–.md](/æ“ä½œç³»ç»Ÿ/linux/Linuxæ€§èƒ½ä¼˜åŒ–.md) åŠ¨æ€é“¾æ¥åº“ç›¸å…³çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¸é“¾æ¥è¿‡ç¨‹å¯†åˆ‡ç›¸å…³\n","metadata":"tags: ['ç¼–ç¨‹è¯­è¨€']","hasMoreCommit":true,"totalCommits":14,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2026-01-12T16:16:47+08:00","author":"MY","message":"feat(doc): æ·»åŠ è®¡ç®—æœºç³»ç»Ÿé“¾æ¥ç« èŠ‚å›¾ç‰‡èµ„æºå¹¶é‡æ„æ–‡æ¡£å†…å®¹","hash":"c48902c155bfc42fb13fb7e7ce06a8303d0724c9"},{"date":"2024-12-02T19:28:47+08:00","author":"MY","message":"ğŸ“¦è®¡ç®—æœºç³»ç»Ÿ","hash":"120847197a4799fd4df9146d1579b956be153cae"},{"date":"2024-03-04T18:51:23+08:00","author":"MY","message":"âœé“¾æ¥","hash":"68ad351b7c35df0f7af3a65b94a6ec703c692c1e"},{"date":"2024-03-01T19:51:24+08:00","author":"MY","message":"âœé“¾æ¥","hash":"136fe197449b769f36be81d9fd30f3fd4115aabd"},{"date":"2023-03-09T09:41:00Z","author":"My","message":"ğŸ› æ›¿æ¢åœ¨çº¿å›¾ç‰‡","hash":"0c8b08bc22fbe482ba02da2f1fcad211441d3c23"},{"date":"2022-10-20T20:33:01+08:00","author":"cjiping","message":"âœï¸å†…æ ¸","hash":"29831f7800f96fb03d4b3658f55c2caa5424811f"},{"date":"2022-06-22T21:41:04+08:00","author":"MY","message":"âœï¸æ›´æ–° é“¾æ¥","hash":"f598c3a78e7db36db9cbe42fc9e57628cc921305"},{"date":"2020-03-02T19:22:07+08:00","author":"MY","message":"è®¡ç®—æœºç³»ç»Ÿ æ›´æ–°é“¾æ¥","hash":"d0a7e2bd3e896a5f08f78bca31d27e6bf723e448"},{"date":"2019-07-15T10:59:02+08:00","author":"Myã€","message":"20190715","hash":"1f3f5c1cdf18eb1eae8ca3f0cee4bc0fb8788a31"}],"createTime":"2019-07-11T21:41:49+08:00"}