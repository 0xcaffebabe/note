{"name":"å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„","id":"è®¡ç®—æœºç³»ç»Ÿ-ç¨‹åºç»“æ„å’Œæ‰§è¡Œ-å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„","content":"# å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„\n\n## ä¸€ã€å­˜å‚¨ç³»ç»Ÿçš„ç¬¬ä¸€æ€§åŸç†\n\n### 1.1 æ ¹æœ¬çŸ›ç›¾\n\nè®¡ç®—æœºå­˜å‚¨ç³»ç»Ÿçš„æ‰€æœ‰å¤æ‚æ€§ï¼Œæºäºä¸€ä¸ªä¸å¯æ¶ˆé™¤çš„æ ¹æœ¬çŸ›ç›¾ï¼š\n\n> **è®¡ç®—é€Ÿåº¦çš„æŒ‡æ•°çº§å¢é•¿ï¼Œä¸å­˜å‚¨è®¿é—®é€Ÿåº¦å’Œæˆæœ¬å¢é•¿ä¹‹é—´çš„é•¿æœŸä¸åŒ¹é…**ã€‚\n\nè¿™ä¸€çŸ›ç›¾åœ¨ä»»ä½•æ—¶ä»£ã€ä»»ä½•æ¶æ„ä¸‹éƒ½æˆç«‹ã€‚\n\n---\n\n### 1.2 ä¸‰å¤§ä¸å¯å˜çº¦æŸï¼ˆç¨³å®šè®¤çŸ¥ï¼‰\n\n| çº¦æŸ    | å«ä¹‰       | å·¥ç¨‹åæœ          |\n| ----- | -------- | ------------- |\n| å»¶è¿Ÿçº¦æŸ  | å¿«çš„ä»‹è´¨ä¸€å®šæ˜‚è´µ | ä¸èƒ½ç”¨â€œå¤§è€Œå¿«â€çš„å•ä¸€å­˜å‚¨ |\n| å®¹é‡çº¦æŸ  | å¤§å®¹é‡ä»‹è´¨ä¸€å®šæ…¢ | å¿…é¡»å¼•å…¥åˆ†å±‚        |\n| ä¸€è‡´æ€§çº¦æŸ | å¤šå‰¯æœ¬å¿…ç„¶ä¸ä¸€è‡´ | å¿…é¡»ä»˜å‡ºåŒæ­¥ä»£ä»·      |\n\n> æ‰€æœ‰å­˜å‚¨æŠ€æœ¯ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯è¿™ä¸‰å¤§çº¦æŸä¸‹çš„**å·¥ç¨‹æŠ˜ä¸­æ–¹æ¡ˆ**ã€‚\n\n---\n\n## äºŒã€å­˜å‚¨å±‚æ¬¡ç»“æ„çš„ç»Ÿä¸€æŠ½è±¡æ¨¡å‹\n\n### 2.1 å±‚æ¬¡åŒ–çš„å¿…ç„¶æ€§\n\n**å­˜å‚¨å±‚æ¬¡ç»“æ„ä¸æ˜¯è®¾è®¡é€‰æ‹©ï¼Œè€Œæ˜¯ç‰©ç†ä¸ç»æµè§„å¾‹çš„å¿…ç„¶ç»“æœ**ã€‚\n\nç»Ÿä¸€æ¨¡å‹ï¼š\n\n```\nç›®æ ‡ï¼šé™ä½å¹³å‡è®¿é—®æ—¶é—´\næ‰‹æ®µï¼šåˆ†å±‚ + å±€éƒ¨æ€§\nä»£ä»·ï¼šä¸€è‡´æ€§ä¸ç®¡ç†å¤æ‚åº¦\n```\n\n---\n\n### 2.2 å„å±‚çš„æœ¬è´¨è§’è‰²ï¼ˆæŠ½è±¡è§†è§’ï¼‰\n\n| å±‚çº§    | æœ¬è´¨è§’è‰²   | æ ¸å¿ƒä»£ä»·   |\n| ----- | ------ | ------ |\n| Cache | å»¶è¿Ÿå±éšœ   | ä¸€è‡´æ€§å¤æ‚åº¦ |\n| DRAM  | å®¹é‡ç¼“å†²   | åˆ·æ–°ä¸å¸¦å®½  |\n| SSD   | IO å¹¶è¡ŒåŒ– | å†™æ”¾å¤§    |\n| HDD   | æˆæœ¬æå°åŒ–  | å¯»é“ä¸æ—‹è½¬  |\n| Tape  | å†·æ•°æ®å½’æ¡£  | é¡ºåºè®¿é—®   |\n\n---\n\n## ä¸‰ã€å±€éƒ¨æ€§åŸç†ï¼ˆè´¯ç©¿å…¨ç¯‡çš„æ ¸å¿ƒæ€æƒ³ï¼‰\n\n### 3.1 å±€éƒ¨æ€§æ˜¯â€œç¨‹åºç»“æ„â€è€Œéâ€œç¡¬ä»¶æŠ€å·§â€\n\n* **æ—¶é—´å±€éƒ¨æ€§**ï¼šæœ€è¿‘è®¿é—®çš„æ•°æ®ï¼Œæœªæ¥ä»å¯èƒ½è®¿é—®\n* **ç©ºé—´å±€éƒ¨æ€§**ï¼šè®¿é—®ä¸€ä¸ªæ•°æ®ï¼Œå¾€å¾€ä¼šè®¿é—®å…¶é‚»è¿‘æ•°æ®\n\n> å±€éƒ¨æ€§æ˜¯**ç®—æ³•ä¸ç¨‹åºç»“æ„**çš„å±æ€§ï¼Œè€Œä¸æ˜¯å­˜å‚¨ä»‹è´¨çš„å±æ€§ã€‚\n\n---\n\n### 3.2 å±€éƒ¨æ€§é©±åŠ¨çš„ç³»ç»Ÿè®¾è®¡\n\n| æŠ€æœ¯           | åˆ©ç”¨çš„å±€éƒ¨æ€§  |\n| ------------ | ------- |\n| Cache Line   | ç©ºé—´å±€éƒ¨æ€§   |\n| é¢„å–           | ç©ºé—´ + æ—¶é—´ |\n| Write Buffer | æ—¶é—´å±€éƒ¨æ€§   |\n| é¡ºåº IO        | ç©ºé—´å±€éƒ¨æ€§   |\n\n---\n\n## å››ã€ä¸»å­˜ï¼šå®¹é‡ä¸å»¶è¿Ÿçš„æŠ˜ä¸­å±‚\n\n### 4.1 DRAM çš„æœ¬è´¨é™åˆ¶\n\n* ç”µè·å­˜å‚¨ â†’ å¿…é¡»åˆ·æ–°\n* åˆ·æ–° â†’ ä¸å¯é¿å…çš„æ€§èƒ½å¹²æ‰°\n\n> DRAM çš„æ…¢ä¸æ˜¯â€œæŠ€æœ¯è½åâ€ï¼Œè€Œæ˜¯ç‰©ç†å®ç°æ–¹å¼å†³å®šçš„ã€‚\n\n---\n\n### 4.2 æ•°æ®ç»„ç»‡ä¸ ISA è®¾è®¡åŸåˆ™\n\n**ISA å¿…é¡»é¢å¯¹ä¸¤ä¸ªæ°¸æ’é—®é¢˜**ï¼š\n\n* å­—å¦‚ä½•å­˜æ”¾\n* å­—æ˜¯å¦å¯¹é½\n\nå¯¹é½çš„æœ¬è´¨ï¼š\n\n> **ç”¨ç©ºé—´æ¢å–æ›´å°‘çš„è®¿å­˜æ¬¡æ•°**ã€‚\n\n---\n\n### 4.3 å­—èŠ‚åºï¼ˆEndiannessï¼‰çš„æœ¬è´¨\n\n* æœ¬è´¨ä¸æ˜¯â€œå¤§å°ç«¯è°æ›´å¥½â€\n* æœ¬è´¨æ˜¯ï¼š**è·¨ç³»ç»Ÿæ•°æ®è§£é‡Šçš„ä¸€è‡´æ€§é—®é¢˜**\n\n---\n\n## äº”ã€Cacheï¼šå»¶è¿Ÿä¼˜åŒ–å±‚çš„ç³»ç»Ÿå¤æ‚æ€§æºå¤´\n\n### 5.1 Cache å­˜åœ¨çš„æ ¹æœ¬åŸå› \n\n> Cache çš„ç›®æ ‡ä¸æ˜¯æé«˜å³°å€¼æ€§èƒ½ï¼Œè€Œæ˜¯**é™ä½å¹³å‡è®¿é—®å»¶è¿Ÿ**ã€‚\n\n---\n\n### 5.2 Cache çš„ä¸‰å¤§è®¾è®¡ç»´åº¦ï¼ˆç¨³å®šæ¨¡å‹ï¼‰\n\n| ç»´åº¦   | å…³æ³¨ç‚¹          |\n| ---- | ------------ |\n| æ˜ å°„æ–¹å¼ | æŸ¥æ‰¾é€Ÿåº¦ vs å†²çªæ¦‚ç‡ |\n| æ›¿æ¢ç­–ç•¥ | å†å²æ˜¯å¦é¢„æµ‹æœªæ¥     |\n| å†™ç­–ç•¥  | ä¸€è‡´æ€§ä¼ æ’­æˆæœ¬      |\n\n---\n\n### 5.3 Cache ç¼ºå¤±çš„æœ¬è´¨åˆ†ç±»\n\n| ç±»å‹   | æœ¬è´¨åŸå›    |\n| ---- | ------ |\n| å†·ç¼ºå¤±  | ç¬¬ä¸€æ¬¡è®¿é—®  |\n| å†²çªç¼ºå¤± | æ˜ å°„å—é™   |\n| å®¹é‡ç¼ºå¤± | å±€éƒ¨æ€§è¢«æ‰“ç ´ |\n\n---\n\n## å…­ã€å¤šæ ¸æ—¶ä»£ï¼šä¸€è‡´æ€§é—®é¢˜çš„ä¸å¯é¿å…\n\n### 6.1 å¤šæ ¸å¸¦æ¥çš„æ–°çŸ›ç›¾\n\n> **æ€§èƒ½ä¼˜åŒ–å¼•å…¥å‰¯æœ¬ï¼Œå‰¯æœ¬å¼•å…¥ä¸€è‡´æ€§é—®é¢˜**ã€‚\n\nè¿™æ˜¯å¤šæ ¸ç³»ç»Ÿä¸­æ— æ³•å›é¿çš„ä»£ä»·ã€‚\n\n---\n\n### 6.2 ä¸€è‡´æ€§åè®®çš„æŠ½è±¡æœ¬è´¨\n\nMESI ä¸æ˜¯å…·ä½“å®ç°ï¼Œè€Œæ˜¯ä»¥ä¸‹æ€æƒ³çš„å·¥ç¨‹åŒ–ï¼š\n\n* å•å†™è€…åŸåˆ™\n* å¹¿æ’­å¤±æ•ˆè€Œéå¹¿æ’­æ•°æ®\n\n---\n\n### 6.3 æ€§èƒ½ä¸ä¸€è‡´æ€§çš„å†æ¬¡æŠ˜ä¸­\n\n* Store Buffer\n* Invalid Queue\n\n> æ‰€æœ‰ä¼˜åŒ–ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯**æš‚æ—¶å…è®¸â€œçœ‹è§æ—§ä¸–ç•Œâ€**ã€‚\n\n---\n\n## ä¸ƒã€å†…å­˜æ¨¡å‹ï¼šè½¯ä»¶å¯è§æ€§çš„æœ€ç»ˆå¥‘çº¦\n\n### 7.1 ä¸ºä»€ä¹ˆéœ€è¦å†…å­˜æ¨¡å‹\n\n> å¦‚æœæ²¡æœ‰å†…å­˜æ¨¡å‹ï¼Œå¤šæ ¸ç³»ç»Ÿå¯¹è½¯ä»¶è€Œè¨€æ˜¯ä¸å¯ç¼–ç¨‹çš„ã€‚\n\n---\n\n### 7.2 å†…å­˜å±éšœçš„æŠ½è±¡è¯­ä¹‰\n\n* å±éšœä¸æ˜¯â€œç¦æ­¢é‡æ’â€\n* å±éšœæ˜¯ï¼š**å®šä¹‰å“ªäº›é‡æ’å¯¹ç¨‹åºå¯è§**\n\n---\n\n### 7.3 TSO çš„è®¾è®¡å“²å­¦\n\nTSO çš„æœ¬è´¨ï¼š\n\n> åœ¨æ€§èƒ½ä¸å¯ç†è§£æ€§ä¹‹é—´ï¼Œé€‰æ‹©ä¸€ä¸ªâ€œäººç±»è¿˜èƒ½æ¨ç†â€çš„å¹³è¡¡ç‚¹ã€‚\n\n---\n\n## å…«ã€å¤–å­˜ç³»ç»Ÿï¼šæˆæœ¬ã€å¯é æ€§ä¸å¹¶è¡Œæ€§\n\n### 8.1 HDD çš„ç‰©ç†å†³å®šè®º\n\n* æ€§èƒ½ç“¶é¢ˆä¸åœ¨ä¼ è¾“ï¼Œè€Œåœ¨å®šä½\n\n> æ‰€æœ‰ä¼˜åŒ–ï¼Œéƒ½æ˜¯åœ¨è§„é¿â€œå¯»é“â€è¿™ä¸ªç‰©ç†äº‹å®ã€‚\n\n---\n\n### 8.2 SSD çš„æ–°ä»£ä»·\n\n| ä¼˜åŠ¿  | æ–°é—®é¢˜  |\n| --- | ---- |\n| æ— å¯»é“ | å†™æ”¾å¤§  |\n| é«˜å¹¶è¡Œ | ç£¨æŸä¸å‡ |\n\n---\n\n### 8.3 RAID çš„æœ¬è´¨æŠ½è±¡\n\nRAID è§£å†³çš„ä¸æ˜¯â€œå¿«â€ï¼Œè€Œæ˜¯ï¼š\n\n* å¹¶è¡ŒåŒ–\n* å†—ä½™\n\nä»£ä»·æ˜¯ï¼š\n\n* å†™æ”¾å¤§\n* é‡å»ºæˆæœ¬\n\n---\n\n## ä¹ã€NUMAï¼šå±‚æ¬¡ç»“æ„åœ¨ç©ºé—´ä¸Šçš„å»¶ä¼¸\n\n### 9.1 NUMA çš„æœ¬è´¨\n\n> NUMA ä¸æ˜¯æ–°é—®é¢˜ï¼Œè€Œæ˜¯â€œå­˜å‚¨å±‚æ¬¡ç»“æ„â€åœ¨ç‰©ç†ç©ºé—´ä¸Šçš„å±•å¼€ã€‚\n\n---\n\n### 9.2 NUMA çš„ç¼–ç¨‹å«ä¹‰\n\n* è®¿é—®å»¶è¿Ÿä¸å†å‡åŒ€\n* å†…å­˜åˆ†é…ç­–ç•¥æˆä¸ºæ€§èƒ½å› ç´ \n\n---\n\n## åã€ç¨³å®šè®¤çŸ¥æ€»ç»“ï¼ˆé•¿æœŸæœ‰æ•ˆï¼‰\n\n### 10.1 æ°¸ä¸è¿‡æ—¶çš„äº”æ¡ç»“è®º\n\n1. å­˜å‚¨ä¸€å®šæ˜¯åˆ†å±‚çš„\n2. å±€éƒ¨æ€§æ˜¯æ€§èƒ½ä¹‹æº\n3. å‰¯æœ¬å¿…ç„¶å¸¦æ¥ä¸€è‡´æ€§é—®é¢˜\n4. ä¸€è‡´æ€§æ°¸è¿œæœ‰æ€§èƒ½ä»£ä»·\n5. æ‰€æœ‰ä¼˜åŒ–éƒ½æ˜¯æŠ˜ä¸­\n\n---\n\n### 10.2 å¦‚ä½•ä½¿ç”¨è¿™ä»½çŸ¥è¯†\n\n* å­¦æ–°å­˜å‚¨æŠ€æœ¯ â†’ å¯¹ç…§ä¸‰å¤§çº¦æŸ\n* æ€§èƒ½é—®é¢˜å®šä½ â†’ å…ˆæ‰¾ç ´åå±€éƒ¨æ€§çš„åœ°æ–¹\n* å¹¶å‘ Bug â†’ ä»å¯è§æ€§ä¸é¡ºåºæ€§å…¥æ‰‹\n\n> **è®°ä½åŸç†ï¼Œè€Œä¸æ˜¯å‚æ•°ã€‚**\n\n## å…³è”å†…å®¹ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰\n\n- [/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md](/æ“ä½œç³»ç»Ÿ/å†…å­˜ç®¡ç†.md) æ“ä½œç³»ç»Ÿå±‚é¢çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ä¸­çš„è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜ç®¡ç†å¯†åˆ‡ç›¸å…³\n- [/æ“ä½œç³»ç»Ÿ/å¤šå¤„ç†æœºç³»ç»Ÿ.md](/æ“ä½œç³»ç»Ÿ/å¤šå¤„ç†æœºç³»ç»Ÿ.md) å¤šå¤„ç†æœºç³»ç»Ÿä¸­çš„ç¼“å­˜ä¸€è‡´æ€§åè®®ï¼ˆå¦‚MESIï¼‰ä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ä¸­çš„ç¼“å­˜ç®¡ç†ç´§å¯†ç›¸å…³\n- [/æ“ä½œç³»ç»Ÿ/linux/Linuxæ€§èƒ½ä¼˜åŒ–.md](/æ“ä½œç³»ç»Ÿ/linux/Linuxæ€§èƒ½ä¼˜åŒ–.md) Linuxç³»ç»Ÿä¸­å†…å­˜å’Œç¼“å­˜çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ï¼Œä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„æ€§èƒ½ä¼˜åŒ–åŸç†ç›¸å…³\n- [/è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç¼“å­˜.md](/è½¯ä»¶å·¥ç¨‹/æ¶æ„/ç³»ç»Ÿè®¾è®¡/ç¼“å­˜.md) ç³»ç»Ÿçº§ç¼“å­˜è®¾è®¡åŸç†ï¼Œä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ä¸­çš„ç¼“å­˜æ¦‚å¿µæœ‰ç›¸ä¼¼ä¹‹å¤„\n- [/ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å†…å­˜ç»“æ„.md](/ç¼–ç¨‹è¯­è¨€/JAVA/JVM/è‡ªåŠ¨å†…å­˜ç®¡ç†/å†…å­˜ç»“æ„.md) JVMå†…å­˜ç»“æ„ä¸ç¡¬ä»¶å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„ç±»æ¯”å’Œå…³è”\n- [/æ“ä½œç³»ç»Ÿ/è¾“å…¥è¾“å‡º.md](/æ“ä½œç³»ç»Ÿ/è¾“å…¥è¾“å‡º.md) I/Oç³»ç»Ÿä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„ä¸­å¤–å­˜éƒ¨åˆ†çš„å…³è”ï¼ŒåŒ…æ‹¬å†…å­˜æ˜ å°„IOç­‰æ¦‚å¿µ\n- [/ç®—æ³•ä¸æ•°æ®ç»“æ„/åŸºæœ¬æ•°æ®ç»“æ„.md](/ç®—æ³•ä¸æ•°æ®ç»“æ„/åŸºæœ¬æ•°æ®ç»“æ„.md) æ•°æ®ç»“æ„çš„å†…å­˜å¸ƒå±€ä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„å±€éƒ¨æ€§åŸç†ç›¸å…³\n- [/æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–.md](/æ“ä½œç³»ç»Ÿ/è™šæ‹ŸåŒ–.md) è™šæ‹ŸåŒ–ç¯å¢ƒä¸‹çš„å†…å­˜ç®¡ç†ä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„è™šæ‹ŸåŒ–ç›¸å…³\n- [/æ•°æ®æŠ€æœ¯/æ•°æ®å­˜å‚¨.md](/æ•°æ®æŠ€æœ¯/æ•°æ®å­˜å‚¨.md) æ•°æ®å­˜å‚¨ç³»ç»Ÿçš„è®¾è®¡åŸç†ä¸å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„çš„åˆ†å±‚æ€æƒ³ç›¸å…³\n","metadata":"tags: ['è®¡ç®—æœºç³»ç»Ÿ', 'ç¼“å­˜', 'æ“ä½œç³»ç»Ÿ']","hasMoreCommit":true,"totalCommits":30,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: æ•´ç†æ ‡ç­¾","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2026-01-12T14:09:25+08:00","author":"MY","message":"doc(storage): é‡æ„æ–‡æ¡£","hash":"50394b4fb3f334fda7614a28547adfe95ae0f33c"},{"date":"2024-12-03T19:50:41+08:00","author":"MY","message":"ğŸ“¦è®¡ç®—æœºç³»ç»Ÿ","hash":"738fc2c827d503438ea6512a8d90b6435d5ca50b"},{"date":"2024-12-02T19:28:47+08:00","author":"MY","message":"ğŸ“¦è®¡ç®—æœºç³»ç»Ÿ","hash":"120847197a4799fd4df9146d1579b956be153cae"},{"date":"2024-11-14T19:15:00+08:00","author":"MY","message":"ğŸ“¦è®¡ç®—æœºç³»ç»Ÿ","hash":"5c5e65cc7dae2c91971a72f7a73dc3877be1a59c"},{"date":"2024-03-06T19:37:23+08:00","author":"MY","message":"âœå†…å­˜","hash":"bdca4f9b5eda90cddd3fca3de7789732339e98db"},{"date":"2024-03-05T20:06:31+08:00","author":"MY","message":"âœå†…å­˜","hash":"8f9e10b4889ef382f9556d7898c1a175490291df"},{"date":"2023-04-02T16:37:21+08:00","author":"MY","message":"ğŸ“¦å­˜å‚¨å™¨","hash":"199412f68c7ad380d7ddbec9793866f64ece4ca4"},{"date":"2023-03-09T09:41:00Z","author":"My","message":"ğŸ› æ›¿æ¢åœ¨çº¿å›¾ç‰‡","hash":"0c8b08bc22fbe482ba02da2f1fcad211441d3c23"},{"date":"2022-07-05T21:20:38+08:00","author":"MY","message":"âœï¸æ›´æ–° å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„","hash":"5ef7020f0bef151a54c5ef31450ff9b94be176bf"}],"createTime":"2019-07-11T21:41:49+08:00"}