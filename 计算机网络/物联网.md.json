{"name":"物联网","id":"计算机网络-物联网","content":"# 物联网\n\n## 一、物联网的第一性原理\n\n### 1. 物联网的本质\n\n**物联网不是“设备上网”，而是：**\n\n> 将物理世界的状态与行为，持续、可扩展、低成本地映射到数字世界，并形成可计算、可决策的系统。\n\n由此决定：\n\n* 物联网的核心对象不是“连接”，而是**状态**\n* 物联网的核心问题不是“通信”，而是**不确定性管理**\n\n---\n\n### 2. 物联网的不确定性来源\n\n与传统互联网相比，物联网天然面对更多不可控因素：\n\n* **设备不可靠**：可能断电、离线、损坏\n* **网络不可靠**：高延迟、丢包、弱信号\n* **规模巨大**：设备数量远超用户数量\n* **能耗受限**：通信成本高于计算成本\n\n这些约束**不是实现问题，而是物理现实**。\n\n---\n\n### 3. 架构上的必然选择\n\n由不确定性倒推出的必然设计原则：\n\n* 同步 → **异步**\n* 请求响应 → **事件驱动**\n* 强一致 → **最终一致**\n* 中心化 → **分层与去中心化**\n\n> 物联网的架构不是“最优设计”，而是“现实妥协”。\n\n---\n\n## 二、物联网的统一抽象架构模型\n\n为避免概念与实现混杂，本文采用一套**稳定、可复用的抽象模型**贯穿全文。\n\n```\n物理世界\n  ↓\n感知层（设备 / 传感器）\n  ↓\n连接层（通信技术 + 网络协议）\n  ↓\n抽象层（物模型 / 设备影子）\n  ↓\n计算层（边缘计算 / 云计算）\n  ↓\n应用与决策层\n```\n\n所有具体技术，仅作为该模型中的**实现实例**存在。\n\n---\n\n## 三、感知层：设备与物理世界\n\n### 1. 角色定位\n\n感知层的职责只有一个：\n\n> **以最低成本、最低功耗、可接受精度采集物理世界状态。**\n\n它不追求复杂逻辑，只追求**生存能力与稳定采集**。\n\n---\n\n## 四、连接层：通信技术与网络协议\n\n连接层解决的问题不是“快”，而是：\n\n> **在不可靠环境中，把数据送到对的地方。**\n\n### 1. 通信技术（物理与链路能力）\n\n| 技术        | 特性定位       |\n| --------- | ---------- |\n| PLC       | 利用既有电力基础设施 |\n| Wi-Fi     | 高带宽、高功耗    |\n| BLE       | 近距离、低功耗    |\n| LTE Cat-1 | 全移动性、中速率   |\n| NB-IoT    | 极低功耗、低速率   |\n\n> 通信技术的选择，本质是 **能耗、成本、覆盖范围** 的权衡。\n\n---\n\n### 2. 通信模式的抽象选择\n\n在 IoT 中，通信模式比协议名称更重要。\n\n| 维度   | 请求-响应 | 发布-订阅 |\n| ---- | ----- | ----- |\n| 网络依赖 | 高     | 低     |\n| 设备规模 | 小     | 海量    |\n| 状态同步 | 即时    | 最终一致  |\n| 典型协议 | HTTP  | MQTT  |\n\n> **发布订阅不是优化，而是规模与不确定性下的必然选择。**\n\n---\n\n## 五、抽象层：物模型、设备影子与数字孪生\n\n### 1. 为什么必须有物模型\n\n如果没有抽象：\n\n* 系统只能理解“字节”，而非“设备”\n* 业务逻辑将与硬件强耦合\n\n**物模型（TSL）解决的是“理解问题”，而不是“通信问题”。**\n\n---\n\n### 2. 物模型的三要素\n\n* **属性（Property）**：设备的状态\n* **事件（Event）**：设备产生的事实\n* **动作（Action）**：设备可被调用的能力\n\n它们构成了设备的**数字接口契约**。\n\n---\n\n### 3. 设备影子\n\n设备影子解决的问题是：\n\n> 当设备不在线时，系统依然可以“理解它最后的状态”。\n\n它是 **最终一致性架构** 下的状态缓存机制。\n\n---\n\n### 4. 数字孪生\n\n数字孪生是物模型的**时间维扩展**：\n\n* 覆盖设备全生命周期\n* 积累运行数据、行为模式\n* 支持优化、预测与仿真\n\n---\n\n## 六、计算层：边缘计算与云计算\n\n### 1. 计算下沉的原因\n\n* 网络延迟不可控\n* 带宽成本高\n* 实时性要求\n\n### 2. 分工原则\n\n| 边缘   | 云    |\n| ---- | ---- |\n| 实时处理 | 全局分析 |\n| 局部决策 | 长期优化 |\n| 数据过滤 | 数据建模 |\n\n> 边缘不是云的替代，而是云的**时间前移**。\n\n---\n\n## 七、网关：连接、抽象与治理的交汇点\n\n网关并非“转发器”，而是：\n\n> **异构世界的边界管理者。**\n\n### 核心职责\n\n* 协议转换\n* 设备管理\n* 安全与身份\n* 边缘计算承载\n\n它天然横跨：连接层 + 抽象层 + 计算层。\n\n---\n\n## 八、平台层：设备接入与数据流\n\n典型平台职责：\n\n* 设备连接维护（IoT Hub / MQTT Broker）\n* 消息分发\n* 数据流处理\n* 存储与缓存\n\n> 平台的本质是 **“规模治理”**，而非简单转发。\n\n---\n\n## 九、安全与隐私：系统复杂度的代价\n\n### 1. 分层安全模型\n\n* 设备层：固件、安全启动\n* 网络层：加密、认证\n* 平台层：权限、审计\n* 数据层：最小化、合规\n\n### 2. 隐私原则\n\n* 知情与选择\n* 最小必要\n* 生命周期治理\n\n> 安全不是附加模块，而是**每一层设计选择的结果**。\n\n## 关联内容（自动生成）\n\n- [/计算机网络/无线网络.md](/计算机网络/无线网络.md) 无线网络技术是物联网的重要基础，物联网中的WIFI配网、BLE、LTE-Cat1、NB-IoT等通信技术与无线网络的移动性管理、信道接入等原理密切相关\n- [/计算机网络/应用层.md](/计算机网络/应用层.md) 讨论应用层协议在物联网中的使用，如HTTP、CoAP、DHCP等，扩展了应用层协议的应用场景\n- [/计算机网络/MQTT.md](/计算机网络/MQTT.md) MQTT是物联网中最常用的轻量级通信协议，采用发布/订阅模式，非常适合资源受限的设备和不可靠网络环境\n- [/计算机网络/http/HTTP.md](/计算机网络/http/HTTP.md) 讨论HTTP协议在物联网中的应用，与轻量级协议CoAP的对比\n- [/软件工程/架构/系统设计/网关.md](/软件工程/架构/系统设计/网关.md) 物联网网关是连接物理设备与云端平台的关键组件，承担协议转换、设备管理、安全认证等重要职责\n- [/计算机网络/计算机网络与因特网.md](/计算机网络/计算机网络与因特网.md) 边缘计算并非新技术，而是位置选择问题，与物联网的计算下沉理念密切相关\n- [/软件工程/架构模式/响应式架构.md](/软件工程/架构模式/响应式架构.md) 响应式架构的弹性伸缩和容错特性与物联网系统的高可用性要求相契合\n- [/计算机网络/网络安全/安全性.md](/计算机网络/网络安全/安全性.md) 物联网安全涉及设备层、网络层、平台层和数据层的全方位防护，与网络安全体系密切相关\n- [/计算机网络/网络安全/安全架构.md](/计算机网络/网络安全/安全架构.md) 涉及物联网在整体安全架构中的作用，包括边界安全、访问控制、安全策略执行等方面\n- [/计算机网络/网络安全/认证与授权.md](/计算机网络/网络安全/认证与授权.md) 物联网设备的认证与授权是安全体系的重要组成部分，是访问控制的第一道防线\n- [/软件工程/架构/系统设计/架构设计.md](/软件工程/架构/系统设计/架构设计.md) 物联网系统架构设计需考虑设备管理、通信协议、数据处理等多个层面的复杂性\n- [/软件工程/架构/系统设计/可观测性.md](/软件工程/架构/系统设计/可观测性.md) 物联网系统需要完善的可观测性能力，包括设备状态监控、数据流追踪、故障诊断等\n- [/数据技术/数据架构.md](/数据技术/数据架构.md) 物联网产生海量设备数据，需要专门的数据架构来处理、存储和分析这些数据\n- [/中间件/消息队列/Kafka/Kafka.md](/中间件/消息队列/Kafka/Kafka.md) Kafka等消息队列在物联网系统中承担设备数据的缓冲和分发功能，保证数据的可靠传输\n- [/软件工程/架构/系统设计/分布式/分布式系统.md](/软件工程/架构/系统设计/分布式/分布式系统.md) 物联网系统本质上是分布式系统，面临一致性、可用性、分区容错性等方面的挑战\n- [/软件工程/架构/系统设计/流量控制.md](/软件工程/架构/系统设计/流量控制.md) 物联网平台需要处理海量设备的并发连接和数据上报，流量控制是保障系统稳定的关键\n- [/软件工程/架构/系统设计/可用性.md](/软件工程/架构/系统设计/可用性.md) 物联网系统需要高可用性保障，特别是在工业物联网等关键应用场景中\n- [/计算机网络/IO模型.md](/计算机网络/IO模型.md) 物联网网关和平台需要处理大量并发连接，高效的IO模型是性能保障的基础","metadata":"tags: ['网络', '架构设计']","hasMoreCommit":false,"totalCommits":8,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: 整理标签","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2026-01-14T18:46:38+08:00","author":"MY","message":"docs(iot): 完善物联网文档结构并添加架构模型","hash":"e1389620b8cf2266419efd9f430d50d60b745243"},{"date":"2025-09-12T16:48:25+08:00","author":"MY","message":"docs: 更新 MQTT 相关文档","hash":"52524872ec50e5524da61418e97a79e4070b9ae4"},{"date":"2023-10-11T16:18:10+08:00","author":"MY","message":"📦数据技术","hash":"98d429f8a999f0ceaea096843ebd435264fb160e"},{"date":"2023-01-10T17:39:37+08:00","author":"cjiping","message":"✏️物联网","hash":"d40d61eed1be926ac6d99698b8f9bca626dee9b4"},{"date":"2023-01-09T18:04:06+08:00","author":"cjiping","message":"✏️物联网","hash":"3d0a26dd53df2e97083862335f7d6a720cd26d1e"},{"date":"2023-01-08T16:16:00+08:00","author":"MY","message":"✏️物联网","hash":"03da5de444bf6122dd655cd05898d1a8079da8a7"},{"date":"2023-01-06T17:58:44+08:00","author":"cjiping","message":"➕物联网","hash":"00945ab62723152b15295a1fbb38994680fd91ee"}],"createTime":"2023-01-06T17:58:44+08:00"}