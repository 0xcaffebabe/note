集中式架构 -> 垂直拆分 -> 分布式服务 -> 服务治理（SOA） -> 微服务

# 微服务

## 概念

- 足够小，内聚性高
- 自治，一个服务就是一个独立的实体

## 好处

- 技术异构性
- 弹性，一个服务不可用不会导致级联故障
- 可扩展，一个服务可以运行多个实例
- 简化部署
- 符合组织结构
- 可组合性
- 容易替换

## 面向服务的架构(SOA)

>SOA是一种设计方法，其中包含多个服务，而服务之间通过配合最终会提供一系列功能。一个服务通常以独立的形式存在于操作系统进程中。服务之间通过网络调用，而非采用进程内调用的方式进行通信。

微服务架构可以看做是实现SOA的一种特定方法

## 其他的分解技术

- 共享库
- 模块

## 架构师的视角

软件不同于建筑，相对来说，软件的不可预测因素更多，我们应该设计出一个合理的框架，在这个框架可以慢慢演化出正确的系统，也就是生长的架构。

避免对所有事情做出过于详尽的设计，将注意力专注在大方向上

同时，架构设计就是在做取舍，要有原则及实践来指导设计

### 分区

相对来说，应该多担心区域之间发生的交互，而非区域内的事情

### 良好的服务应该具有的属性

- 监控
  - 每个服务都应该有标准的方式报告其健康状态
- 接口
- 架构的安全性
  - 应该有良好的隔离性

### 代码治理

- 提供范例来指导开发人员如何编写代码
- 提供服务代码模板来简化开发人员的工作

### 技术债务

短期的利益，长期来看是要付出代价的，应该要维护好这个债务列表

### 例外管理

一次例外是例外，多次例外就是规则了

