# 架构

## 架构的目标

用最小的人力成本来满足构建和维护该系统的需求

- 乱麻系统

过度的自信导致软件维护成本持续上升

## 两个维度

- 行为价值
  - 让系统正常运行
- 架构价值
  - 让系统更容易修改

## 四种架构模式

- 按层封装

也就说传统的水平分层架构，在项目初期很合适

```java
package controller{
    Controller;
}
package service {
    Service;
    ServiceImpl;
}
package dao {
    Dao;
}
```

- 按功能封装

即垂直切分

```java
package Order {
    OrderController;
    OrderService;
    OrderDao;
}
```

- 端口与适配器

```java
package controller{...}

package domain {
    Service;
    ServiceImpl;
    Domain;
}

package dao{...}
```

- 按组件封装

优点服务架构的味道

```java
package controller {...}
package order {
    Service;
    Dao;
}
```

