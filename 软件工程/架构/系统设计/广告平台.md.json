{"name":"广告平台","id":"软件工程-架构-系统设计-广告平台","content":"# 广告平台\n\n## 一、广告平台的第一性原理（Why）\n\n### 1.1 广告平台的本质\n\n广告平台的本质不是\"投广告\"，而是一个：\n\n> **在严格约束条件下，进行实时价值分配的在线决策系统**\n\n它同时服务于三类主体：\n\n| 主体  | 核心诉求           |\n| --- | -------------- |\n| 用户  | 低干扰、高相关性       |\n| 广告主 | 可预测、可放大的 ROI   |\n| 平台  | 长期收益最大化 + 生态健康 |\n\n👉 **任何架构设计，都是这三方博弈的工程化表达**\n\n---\n\n### 1.2 广告系统的三大不可调和矛盾（不变量）\n\n1. **用户体验 vs 广告收益**\n2. **广告主短期 ROI vs 平台长期生态**\n3. **模型自动化 vs 合规与可控性**\n\n这些矛盾 **无法被\"技术进步\"消灭**，只能被：\n\n> **制度 + 架构 + 治理机制** 所缓和\n\n---\n\n### 1.3 广告平台的核心目标函数\n\n广告平台不是在最大化 CTR，而是在最大化：\n\n```\n长期平台价值 = 用户体验 × 广告主信任 × 平台收益\n```\n\nCTR / CVR / eCPM 只是 **代理指标**，不是目标本身。\n\n---\n\n## 二、广告平台能力树（What）\n\n从\"模块堆叠\"升级为\"能力视角\"，广告平台具备以下**不可或缺的稳定能力**：\n\n```\n广告平台核心能力树\n├── 流量变现能力\n│   ├── 流量预测\n│   ├── 用户定向\n│   ├── 广告匹配\n│   ├── 竞价与排序\n│\n├── 学习与优化能力\n│   ├── CTR/CVR 预测\n│   ├── 在线反馈闭环\n│   ├── 模型迭代\n│\n├── 治理与风控能力\n│   ├── 内容审核\n│   ├── 反作弊\n│   ├── 财务与账号风控\n│   ├── 合规策略\n│\n├── 商业化与结算能力\n│   ├── 计费模型\n│   ├── 归因逻辑\n│   ├── 报表体系\n│\n└── 平台演进能力\n    ├── 可扩展架构\n    ├── 策略配置化\n    ├── 多业务支持\n```\n\n👉 **模块会变，能力不变**\n\n---\n\n## 三、广告需求模型与投放模型（How）\n\n### 3.1 广告需求模型（Advertiser Intent）\n\n**本质：**\n\n> 将广告主模糊的商业意图，转化为系统可计算的结构化对象\n\n**稳定抽象：**\n\n```\n广告需求 = 目标 + 预算 + 时间 + 定向 + 创意 + 约束\n```\n\n它解决的不是\"怎么投\"，而是：\n\n> **广告主\"想要什么\"**\n\n---\n\n### 3.2 广告投放模型（Platform Decision）\n\n**本质：**\n\n> 在给定流量、需求与约束下，平台如何做最优实时决策\n\n核心问题不是投不投，而是：\n\n* 投给谁\n* 投哪个\n* 投多少\n* 投到什么程度\n\n---\n\n### 3.3 统一决策函数（稳定认知）\n\n所有广告系统，本质都在近似求解：\n\n```\n最大化：平台期望收益\n约束：\n- 用户体验阈值\n- 广告主预算\n- 合规与风控规则\n- 系统延迟上限\n```\n\neCPM、ROI、多目标优化，都是这个问题的不同近似解法。\n\n---\n\n## 四、广告投放引擎：在线决策系统（Architecture）\n\n### 4.1 投放引擎的本质约束\n\n广告投放引擎是一个：\n\n> **低延迟、不可回溯、信息不完备的在线决策系统**\n\n关键工程约束：\n\n| 约束    | 含义           |\n| ----- | ------------ |\n| 延迟    | 决策必须在毫秒级完成   |\n| 不完备信息 | 用户、模型、数据都不完整 |\n| 不可回滚  | 展示即发生，无法重来   |\n| 高并发   | 流量峰值不可预测     |\n\n---\n\n### 4.2 稳定组件划分（模式级）\n\n| 层级     | 核心职责      |\n| ------ | --------- |\n| 请求接收层  | 合法性、上下文构建 |\n| 用户数据服务 | 提供可用的用户表征 |\n| 广告库存管理 | 预算、规则、状态  |\n| 匹配与竞价  | 候选集生成     |\n| 排序与优化  | 多目标权衡     |\n| 决策输出   | 最终结果      |\n| 监控与统计  | 系统自省      |\n\n👉 这是 **行业稳定范式，不是某家公司的特例**\n\n---\n\n## 五、AI 模型的真实地位：不是大脑，而是器官\n\n### 5.1 模型的正确定位\n\n模型不是决策者，而是：\n\n> **受约束的概率估计器**\n\n它回答的是：\n\n* 这个广告**更可能**被点吗？\n* 更可能转化吗？\n\n但它 **不负责**：\n\n* 合规\n* 用户体验\n* 商业边界\n\n---\n\n### 5.2 模型治理的必要性（成熟系统标志）\n\n必须回答的问题：\n\n* 模型失效怎么办？\n* 数据污染如何发现？\n* 模型是否放大作弊？\n* 模型是否违反政策？\n\n因此必须存在：\n\n* 策略兜底\n* 规则优先级\n* 灰度与回滚\n* 效果与风险双监控\n\n👉 **\"无治理的智能 = 系统性风险\"**\n\n---\n\n## 六、风控与合规：平台生存系统\n\n### 6.1 风控的系统地位\n\n风控不是辅助模块，而是：\n\n> **决定平台是否能长期存在的生存系统**\n\n---\n\n### 6.2 风控的三层稳定抽象\n\n| 层级    | 目标       |\n| ----- | -------- |\n| 内容与素材 | 合法、合规、可信 |\n| 行为与流量 | 防作弊、防刷量  |\n| 账号与资金 | 防欺诈、防洗钱  |\n\n---\n\n### 6.3 实时风控的工程哲学\n\n* **事前拦截 > 事后追溯**\n* **概率判断 > 绝对判定**\n* **误杀可接受，失控不可接受**\n\n---\n\n## 七、指标体系：价值函数的外显\n\n### 7.1 指标不是 KPI，而是系统信号\n\n指标的作用不是汇报，而是：\n\n> **驱动系统学习与决策调整**\n\n---\n\n### 7.2 稳定三层指标模型\n\n| 层级  | 问题      |\n| --- | ------- |\n| 流量层 | 有没有被看到  |\n| 效果层 | 有没有产生行为 |\n| 收益层 | 有没有创造价值 |\n\nROI / ROAS 永远是终极裁判。\n\n---\n\n## 八、广告平台的演进路径（When）\n\n广告平台不是一次性设计，而是**阶段性演进系统**：\n\n| 阶段  | 特征   | 架构重点     |\n| --- | ---- | -------- |\n| 初期  | 流量少  | 简单规则     |\n| 成长  | 流量大  | RTB + 预测 |\n| 成熟  | 生态复杂 | 多目标优化    |\n| 平台化 | 多业务  | 能力中台     |\n\n👉 **过度设计是风险，欠设计是灾难**\n\n---\n\n## 九、总结：不变的东西\n\n**广告平台长期不变的只有这些：**\n\n1. 三方博弈结构\n2. 实时在线决策本质\n3. 模型不确定性\n4. 风控的生存价值\n5. 演进式架构思想\n\n## 关联内容（自动生成）\n- [/软件工程/架构/系统设计/系统设计.md](/软件工程/架构/系统设计/系统设计.md) 通用系统设计原则与方法论，与广告平台系统设计有密切关系\n- [/软件工程/架构/系统设计/高并发.md](/软件工程/架构/系统设计/高并发.md) 广告平台需要处理高并发请求，相关内容对架构设计有参考价值\n- [/软件工程/架构/系统设计/流量控制.md](/软件工程/架构/系统设计/流量控制.md) 广告平台涉及复杂的流量管理和控制机制\n- [/软件工程/架构/系统设计/分布式/分布式系统.md](/软件工程/架构/系统设计/分布式/分布式系统.md) 广告平台通常采用分布式架构，相关内容有助于理解系统设计\n- [/软件工程/架构/系统设计/缓存.md](/软件工程/架构/系统设计/缓存.md) 广告平台对性能要求极高，缓存策略是关键设计考虑因素\n- [/软件工程/架构/系统设计/可观测性.md](/软件工程/架构/系统设计/可观测性.md) 广告平台需要强大的监控和可观测性能力，以保证系统稳定运行\n- [/数据技术/推荐系统.md](/数据技术/推荐系统.md) 广告平台与推荐系统在算法和架构上有许多相似之处，可相互借鉴\n- [/数据技术/数据架构.md](/数据技术/数据架构.md) 广告平台的数据架构设计对系统性能和效果至关重要\n- [/软件工程/架构模式/架构模式.md](/软件工程/架构模式/架构模式.md) 广告平台架构设计可参考通用架构模式\n- [/软件工程/架构/系统设计/架构设计.md](/软件工程/架构/系统设计/架构设计.md) 通用架构设计原则对广告平台架构有指导意义","metadata":"tags: ['数据技术', '计算机系统', '软件工程']","hasMoreCommit":false,"totalCommits":5,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: 整理标签","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2026-01-14T17:29:25+08:00","author":"MY","message":"docs(广告平台): 重构广告平台文档结构，提升系统设计认知","hash":"e188d9ad58e047f7965970f5721c5facacd6d1e7"},{"date":"2025-09-10T18:18:41+08:00","author":"MY","message":"docs(架构): 更新广告投放系统架构图","hash":"2adc2a0177f730bf36e7e40a5ff754daf6a8c7c6"},{"date":"2025-09-10T15:24:01+08:00","author":"MY","message":"docs: remove unnecessary section break in ad-engine documentation","hash":"a0f11756d731d062a5159c3cff04b9679f832eb3"},{"date":"2025-09-09T18:13:21+08:00","author":"MY","message":"docs(summary): add reference to advertising platform design","hash":"eeb1b884246add640695e44e835f91e93ea6be14"}],"createTime":"2025-09-09T18:13:21+08:00"}