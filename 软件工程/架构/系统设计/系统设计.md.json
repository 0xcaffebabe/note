{"name":"系统设计","id":"软件工程-架构-系统设计-系统设计","content":"# 系统设计 · 架构认知总纲\n\n> **在约束条件下做架构决策，并持续演进系统能力的思维模型**。\n\n---\n\n## 一、系统设计的本质\n\n### 1.1 什么是系统设计\n\n**系统设计的本质不是计算 QPS、TPS 或画架构图，而是在多重约束下做取舍。**\n\n系统设计关注的是：\n\n* 系统要解决什么问题（目标）\n* 系统受到哪些不可违背的限制（约束）\n* 在约束下，如何做结构性选择（决策）\n* 这些选择最终塑造了系统的能力边界\n\n> **系统设计 = 约束下的架构决策过程**\n\n---\n\n### 1.2 系统设计关注的不是“功能”，而是“能力”\n\n功能回答的是：\n\n* 系统“能不能做某件事”\n\n系统设计回答的是：\n\n* 系统“在什么条件下、以什么代价、能做到什么程度”\n\n因此，系统设计的核心关注点是：\n\n* 性能\n* 扩展性\n* 伸缩性\n* 可用性\n* 安全性\n* 可演进性\n\n这些被统称为：**系统的非功能性能力（Quality Attributes）**。\n\n---\n\n## 二、系统设计的四层不变模型\n\n系统设计虽然面临的业务和技术不断变化，但其认知结构是高度稳定的。\n\n### 2.1 四层模型概览\n\n```\n业务目标\n   ↓\n约束条件\n   ↓\n架构决策\n   ↓\n系统能力\n```\n\n---\n\n### 2.2 业务目标（Why）\n\n系统首先服务于业务目标，而不是技术理想。\n\n常见目标包括：\n\n* 用户规模增长\n* 成本可控\n* 响应时间要求\n* 合规与安全要求\n\n> 没有业务目标的系统设计，只是在堆复杂度。\n\n---\n\n### 2.3 约束条件（Constraint）\n\n约束决定了设计空间的边界。\n\n常见约束包括：\n\n* 流量规模（用户量、QPS、数据量）\n* 延迟要求\n* 成本预算\n* 团队规模与技术能力\n* 法规与安全要求\n\n> **约束不是负担，而是设计的前提条件。**\n\n---\n\n### 2.4 架构决策（Decision）\n\n架构设计的核心不是“选什么技术”，而是做出结构性决策，例如：\n\n* 单体 vs 分布式\n* 同步 vs 异步\n* 强一致 vs 最终一致\n* 本地状态 vs 无状态\n* 预扩容 vs 弹性扩容\n\n每一个决策，本质上都是在不同系统能力之间做权衡。\n\n---\n\n### 2.5 系统能力（Outcome）\n\n架构决策最终沉淀为系统的能力边界：\n\n* 最大吞吐能力\n* 并发承载能力\n* 故障恢复能力\n* 安全防护能力\n* 架构演进空间\n\n---\n\n## 三、系统设计核心能力总览\n\n### 3.1 系统设计能力树\n\n```\n系统设计能力\n├── 性能\n│   ├── 延迟\n│   ├── 吞吐\n│   └── 并发\n├── 扩展性（Scalability）\n│   ├── 水平扩展\n│   └── 垂直扩展\n├── 伸缩性（Elasticity）\n│   ├── 无状态设计\n│   ├── 自动扩缩容\n│   └── 流量治理\n├── 可用性\n├── 安全性\n└── 可演进性\n```\n\n> 系统设计的成熟度，体现在能力是否“可预期、可控制、可演进”。\n\n---\n\n## 四、扩展性（Scalability）\n\n### 4.1 扩展性的本质\n\n**如果系统性能的提升与资源投入呈近似线性关系，则系统具备扩展性。**\n\n扩展性回答的问题是：\n\n> 当需求长期增长时，系统是否还能继续支撑？\n\n---\n\n### 4.2 扩展方式\n\n* **水平扩展**：通过增加节点数量提升系统能力\n* **垂直扩展**：通过提升单节点能力提升系统性能\n\n扩展性高度依赖于：\n\n* 模块解耦\n* 数据分区\n* 并行处理能力\n\n---\n\n## 五、伸缩性（Elasticity）\n\n### 5.1 伸缩性的本质\n\n伸缩性关注的是**系统对短期变化的响应能力**。\n\n它回答的问题是：\n\n> 当负载突然变化时，系统能否快速调整资源规模？\n\n---\n\n### 5.2 性能问题 vs 伸缩性问题\n\n* 性能问题：\n\n  * 单用户请求始终很慢\n* 伸缩性问题：\n\n  * 单用户很快，但并发升高后整体变慢\n\n---\n\n### 5.3 伸缩性的架构前提\n\n* 服务无状态\n* 负载均衡\n* 自动化部署与扩缩容\n\n> **无状态是伸缩性的基础前提，而不是优化手段。**\n\n---\n\n## 六、扩展性 vs 伸缩性\n\n| 维度   | 扩展性（Scalability） | 伸缩性（Elasticity） |\n| ---- | ---------------- | --------------- |\n| 时间尺度 | 长期               | 短期              |\n| 关注点  | 能否增长             | 能否动态调整          |\n| 架构前提 | 模块化              | 无状态 + 自动化       |\n| 成本模型 | 规划型              | 按需型             |\n| 失败风险 | 增长受限             | 流量突发崩溃          |\n\n---\n\n## 七、安全性（Security）\n\n### 7.1 安全性的系统设计视角\n\n安全性不是某个独立模块，而是一种**横切系统的架构属性**。\n\n系统设计中的安全性关注：\n\n* 身份与认证\n* 访问控制与边界\n* 信任模型\n* 隔离与最小权限\n\n> **安全问题往往源于架构决策，而非实现细节。**\n\n---\n\n## 八、系统设计的演进视角\n\n### 8.1 不同阶段的设计重点\n\n| 阶段  | 核心关注     |\n| --- | -------- |\n| 小规模 | 简单性、开发效率 |\n| 中规模 | 扩展性、可用性  |\n| 大规模 | 伸缩性、治理能力 |\n\n---\n\n### 8.2 演进原则\n\n* 避免过度设计\n* 优先保留演进空间\n* 用约束驱动复杂度，而非预期\n\n---\n\n## 九、结语\n\n系统设计不是一次性工作，而是伴随系统生命周期持续发生的决策过程。\n\n> **优秀的系统设计，不在于一开始就\"设计得多复杂\"，而在于：**\n>\n> **系统是否能够在不断变化的约束下，持续演进而不失控。**\n\n## 关联内容（自动生成）\n\n- [/软件工程/架构/系统设计/可用性.md](/软件工程/架构/系统设计/可用性.md) 可用性是系统设计中关键的非功能性需求之一，与系统设计中的约束、架构决策密切相关，是系统能力的重要体现\n- [/软件工程/架构/系统设计/扩展性.md](/软件工程/架构/系统设计/扩展性.md) 扩展性是系统设计核心能力之一，具体阐述了系统如何在负载增长时保持性能，与系统设计中的扩展性概念直接相关\n- [/软件工程/架构/系统设计/伸缩性.md](/软件工程/架构/系统设计/伸缩性.md) 伸缩性关注系统对短期变化的响应能力，是系统设计中\"弹性\"能力的具体体现，与系统设计的架构决策密切相关\n- [/软件工程/架构/系统设计/分布式/分布式.md](/软件工程/架构/系统设计/分布式/分布式.md) 分布式系统是实现大规模系统设计的重要架构范式，与系统设计中的架构决策、扩展性、可用性等能力密切相关\n- [/软件工程/架构/系统设计/缓存.md](/软件工程/架构/系统设计/缓存.md) 缓存是系统设计中提升性能和扩展性的关键技术手段，是架构决策中的重要考虑因素\n- [/软件工程/架构/系统设计/高并发.md](/软件工程/架构/系统设计/高并发.md) 高并发系统设计涉及系统设计中的性能、扩展性、可用性等多方面能力，是系统设计的重要应用场景\n- [/软件工程/架构/系统设计/流量控制.md](/软件工程/架构/系统设计/流量控制.md) 流量控制是系统设计中保障系统稳定性和可用性的关键手段，与系统设计中的约束和架构决策密切相关\n- [/软件工程/架构/系统设计/可观测性.md](/软件工程/架构/系统设计/可观测性.md) 可观测性是系统设计中确保系统可维护、可演进的重要能力，帮助在系统生命周期中做出更好的架构决策\n- [/软件工程/架构/系统设计/网关.md](/软件工程/架构/系统设计/网关.md) 网关是系统架构设计中的重要组件，承担着路由、安全、限流等功能，是实现系统架构目标的重要手段\n- [/软件工程/架构/架构.md](/软件工程/架构/架构.md) 架构是系统设计的高级概括，系统设计是架构设计的具体实现过程，两者相互关联，共同构成系统的整体结构\n- [/软件工程/架构/架构思维.md](/软件工程/架构/架构思维.md) 架构思维是进行系统设计的基础，指导如何在约束条件下做出架构决策，与系统设计的四层不变模型高度相关\n- [/软件工程/架构/演进式架构.md](/软件工程/架构/演进式架构.md) 演进式架构强调架构的持续演进能力，与系统设计中\"持续演进\"的理念一致，是系统设计的重要发展方向\n- [/软件工程/架构/架构治理.md](/软件工程/架构/架构治理.md) 架构治理确保架构决策得到有效执行，是系统设计从理论到实践的重要保障\n- [/软件工程/架构/系统设计/混沌工程.md](/软件工程/架构/系统设计/混沌工程.md) 混沌工程是一种验证系统韧性的重要方法，与系统设计中的可用性、容错能力设计密切相关\n- [/软件工程/架构/架构重构.md](/软件工程/架构/架构重构.md) 架构重构是系统演进的重要手段，体现了系统设计需要持续适应变化的理念\n","metadata":"tags: ['计算机系统', '软件工程', '安全']","hasMoreCommit":true,"totalCommits":16,"commitList":[{"date":"2026-02-12T14:07:03+08:00","author":"MY","message":"doc: 整理标签","hash":"290b3e8ad18f48832ac282290238d020fc030a88"},{"date":"2025-12-15T18:13:46+08:00","author":"MY","message":"docs(system-design): 重构系统设计文档，完善架构认知总纲与核心能力体系","hash":"9c8e9693a727c80aceb69501fda63c70a76fd3d5"},{"date":"2022-07-27T17:44:15+08:00","author":"cjiping","message":"➕新增 性能工程","hash":"ba2e39fccab7fbbbdbae982af1433f5fcde26ead"},{"date":"2022-06-01T16:30:01+08:00","author":"cjiping","message":"📦整理 网络安全","hash":"269283053fdd22fc22929e391e7b5476aad253a8"},{"date":"2021-12-20T16:04:24+08:00","author":"cjiping","message":"✏️更新 系统设计","hash":"eeca4458fbbeacb9b5c8d19a083d99b50a37aec7"},{"date":"2021-09-26T20:42:03+08:00","author":"My","message":"📦整理 系统设计 扩展性","hash":"5ae99401031a0ef46d4a8b20548534b94fa90626"},{"date":"2021-09-25T23:42:20+08:00","author":"My","message":"✏️更新 扩展性","hash":"129acb0bce0d7ffee5d87e160323a5e8dc93d75e"},{"date":"2020-09-28T19:11:11+08:00","author":"MY","message":"📦重构 可用性","hash":"8f48da37af67853f59063bdc9ce43e36bd7749a6"},{"date":"2020-09-27T20:35:01+08:00","author":"MY","message":"📦重构 高并发","hash":"31b657a7daf0652fff2d46a5483df43a52b76409"},{"date":"2020-09-27T11:51:43+08:00","author":"MY","message":"✏更新 负载均衡","hash":"727bec61d00873591751f2fda0911359653a9505"}],"createTime":"2020-03-16T21:05:42+08:00"}