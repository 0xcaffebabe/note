# 整洁代码

代码是需求的精确性表达 代码不会消失

- 读起来令人愉悦
- 只做好一件事
- 明确地展现出要解决问题的张力
- 整洁代码以测试作为基础
- 不要重复代码
- 深合己意

代码更多的时候是用来读

## 命名

名副其实：变量 函数 类的名称要充分体现它们的作用

避免误导：

- 避免使用与本意相悖的词
- 谨慎使用不同之处特别小的名称
- 以及小写字母l与大写字母O与数字 1 0 相似的情况

有意义的区分：

- 避免使用数字系列命名
- 避免使用意义相同的名称

使用读得出来的名称

使用可搜索的名称：

- 为常量命名 方便维护
- 名称长短与其作用域大小相对应

避免使用编码：

- 避免匈牙利标记法在变量名称携带类型
- 避免前缀标记成员变量
- 避免避免接口与实现携带I前缀或者Imp后缀

避免思维映射：传统管用i j 表示循环计数器 其他情况下要避免使用单字母

类名与对象名应该是名词或者名词短语

方法名应该是动词或者动词短语

命名时避免抖机灵

使用概念一致的命名：

- SELECT DELETE UPDATE INSERT

避免将同一术语用于不同概念

尽量使用技术性名称而非业务领域名称 与问题领域更近的代码 应当采用业务领域的名称

如果无法通过类或者方法来给名称提供上下文 那么只能给名称添加前缀来添加上下文了

短名称够清楚就行了 不要添加不必要的上下文 

## 函数

短小：

- 块内调用的子函数具有说明性
- 不该有复杂的嵌套结构

只做一件事：函数内部的实现充分体现函数名称

确保函数中的语句在同一抽象层级上面

使用多态取代switch语句

使用描述性的名称能理性设计思路 帮助改进之

函数参数：

- 参数越多函数越难理解
- 使用标志参数(boolean)就代表函数不止做一件事
- 函数和参数应当形成一种动词/名词对形式

副作用：避免使用输出参数(out) 需要修改状态 就将该状态作为对象的属性

分割指令与询问：函数要么做什么 要么回答什么 不能两者得兼

异常代替错误码：

- 错误处理代码就能从主路径代码分离出来
- 主体以及错误处理代码可以抽离成函数
- 错误码枚举一旦发生修改 依赖其的模块都要重新编译 使用继承异常的方式可以进行平滑扩展

别重复自己：重复可能是软件中一切邪恶的根源

结构化编程：单一出入口原则在大函数中才有明显的好处