{"name":"运维","id":"运维-运维","content":"# 运维\n\n## 运维体系建设\n\n- 以应用为核心\n\n![20221228112644](/assets/20221228112644.webp)\n\n### 标准化\n\n标准化的过程实际上就是对运维对象的识别和建模过程，从纷繁复杂中抽象出标准规范的东西，是后续一系列自动化和稳定性保障的基础\n\n1. 识别对象\n2. 识别对象属性\n3. 识别对象关系\n4. 识别对象场景\n\n对基础架构组件做了统一标准之后，下一步要做的就是服务化，要做的是封装这些组件的API，以提供更加便捷的运维能力\n\n### 应用的生命周期\n\n1. 创建阶段：确认应用的基础信息和与基础服务的关系，要同时固化下来，从应用创建之初，就将应用与各类基础服务的生命周期进行挂钩\n2. 研发阶段：要有完善的持续集成体系和工具链支持\n3. 上线阶段\n4. 运行阶段：运维方面要做好监控报警、业务方面要做好持续交付、可用性保障\n5. 销毁阶段：不仅仅是应用自身要销毁，绕着某个应用所产生出来的基础设施、基础服务以及关联关系都要一并清理\n\n### CMDB\n\n- Configuration Management DataBase\n\n识别出运维对象和对象间的关系，并形成了统一的标准之后，接下来要做的事情就是将这些标准固化，固化到某个信息管理平台中，即配置管理\n\n![2022122917208](/assets/2022122917208.webp)\n\nCMDB 是面向资源的管理，应用配置是面向应用的管理\n\n应用管理的思路：产品线 - 业务团队 - 应用，建立应用 - 集群服务分组 - 资源的对应关系\n\n#### 作用\n\n1. 为监控系统、发布系统提供应用、服务、机器等基础信息\n2. 为服务化框架提供配置与注册功能\n3. 为基础服务提供与保存元数据\n\n### 运维组织架构\n\n做什么：\n\n1. 运维基础平台体系建设：标准化体系以及 CMDB、应用配置管理、DNS 域名管理、资源管理等偏向运维自身体系的建设\n2. 分布式中间件的服务化建设：一些第三方以及二开的中间件要做好标准化以及服务化建设，即包装后对外服务\n3. 持续交付体系建设：是拉通运维和业务开发的关键纽带，是提升整个研发团队效率的关键部分\n4. 稳定性体系建设：如何快速发现线上问题、如何快速定位问题、如何快速从故障中恢复业务、如何有效评估系统容量等\n5. 技术运营体系建设：从人、体制的角度确保制定的标准、指标、规则和流程能够有效落地\n\n有谁：\n\n- 基础运维，包括 IDC 运维、硬件运维、系统运维以及网络运维\n- 应用运维，主要是业务和基础服务层面的稳定性保障和容量规划等工作\n- 数据运维，包括数据库、缓存以及大数据的运维\n- 运维开发，主要是提供效率和稳定性层面的工具开发\n\n## 稳定性保障\n\n- 用户访问模型：提前预测系统的峰值压力及分布得到模型，这其中有可预测的模型，也有不可预测的突发事件导致流量剧增\n\n稳定性的保障需要根据模型来选取适合的技术：\n\n1. 运维自动化：要有自动化的资源支持\n2. [容量评估](/软件工程/容量保障.md)和压测\n3. [限流](/软件工程/架构/系统设计/流量控制.md)[降级](/软件工程/架构/系统设计/可用性.md#降级)：难点和关键还是在于整体技术栈的统一，以及后期对每个应用限流降级资源策略的准确把握和配置\n4. 开关预案：由某些特定事件触发的系统变更\n5. [故障模拟](/软件工程/架构/系统设计/混沌工程.md)\n6. 监控\n\n## 安全\n\n- 入网管控：环境的第一道防线，VPN 接入的管控，并与员工的统一登录鉴权结合，做到一键登录\n- 堡垒机：登录主机和网络设备做维护工作，需要有另外一道关卡，就是硬件或虚拟设备的登录管控，堡垒机维护的主机列表、主机用户名、权限配置等信息\n- 主机安全管控：在主机上运行Agent，实时地对可疑进程、可疑端口、可疑账号、可疑日志以及各类操作进行监控，一旦发现异常就会及时告警\n- 黑盒扫描：针对主机上对外开放的端口和使用的服务进行扫描\n- 白盒扫描：持续交付流水线中针对代码中明显的漏洞进行审计\n- 应急响应中心：共享漏洞信息、沉淀检测规则\n","metadata":"","hasMoreCommit":false,"totalCommits":4,"commitList":[{"date":"2023-01-04T17:13:27+08:00","author":"cjiping","message":"✏️运维","hash":"4332445d967ca68db6674e5cbc766c2c6001c911"},{"date":"2023-01-03T16:50:29+08:00","author":"cjiping","message":"✏️运维","hash":"e2d14d5ed2a01c7cd9f29c6f27853725cda993cb"},{"date":"2022-12-29T17:52:59+08:00","author":"cjiping","message":"✏️运维","hash":"92b9365005f78d0736dde77faaaafca5cd19fa31"},{"date":"2022-12-28T16:44:58+08:00","author":"cjiping","message":"✏️运维","hash":"7ea48131c89c411942298c091d07d9dd194ab5ed"}],"createTime":"2022-12-28T16:44:58+08:00"}